---
title: "Common multistate models"
output: 
  rmarkdown::html_vignette:
    toc: true 
    toc_depth: 3
    number_sections: true
vignette: >
  %\VignetteIndexEntry{Common multistate models}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(bmstate)
N_sub <- 300
```

# Basic survival model

First we create a `TransitionMatrix`

```{r}
tm <- transmat_survival()
print(tm)
tm$plot()
```

Then we create a `MultistateModel`

```{r}
mod <- create_msm(tm)
print(mod)
```
Now we can simulate events.

```{r}
log_haz <- 1e-4
pd <- mod$simulate_data(N_sub, log_w0 = log_haz)
pd$plot_paths()
pd$plot_graph()
```


```{r}
times <- pd$as_transitions(truncate = TRUE)$time
plot_time_dist(times)
```
