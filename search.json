[{"path":[]},{"path":"https://generable.github.io/bmstate/articles/analysis.html","id":"data-preprocessing","dir":"Articles","previous_headings":"Data","what":"Data preprocessing","title":"Time-to-event data analysis with the bmstate package","text":"analyse cav data msm package. Cardiac Allograft Vasculopathy (CAV) data set 622 heart transplant recipients. observed either state 1 (CAV), state 2 (Mild CAV), state 3 (Severe CAV), state 4 (Dead). First modify original data like . snapshot data state given time rather exactly observed transition times. death times exact. make assumption state transitions happen exactly first time new state seen data. select needed columns rename . resulting data frame, columns time: time since transplant (years) age: age patient transplant time dage: age donor sex: 0 1 remove unnecessary snapshot rows needed making simplifying assumption.","code":"df_full <- as_tibble(msm::cav) |>   group_by(PTNUM) |>   mutate(     min_age = min(age),     state = cummax(state)   ) head(df_full) #> # A tibble: 6 √ó 11 #> # Groups:   PTNUM [1] #>    PTNUM   age years  dage   sex pdiag cumrej state firstobs statemax min_age #>    <int> <dbl> <dbl> <int> <int> <fct>  <int> <int>    <int>    <dbl>   <dbl> #> 1 100002  52.5  0       21     0 IHD        0     1        1        1    52.5 #> 2 100002  53.5  1.00    21     0 IHD        2     1        0        1    52.5 #> 3 100002  54.5  2.00    21     0 IHD        2     2        0        2    52.5 #> 4 100002  55.6  3.09    21     0 IHD        2     2        0        2    52.5 #> 5 100002  56.5  4       21     0 IHD        3     2        0        2    52.5 #> 6 100002  57.5  5.00    21     0 IHD        3     3        0        3    52.5 df_full$PTNUM <- as.character(df_full$PTNUM) df_snapshots <- df_full |> select(PTNUM, state, years, min_age, dage, sex) df_snapshots <- df_snapshots |> rename(   subject_id = PTNUM,   age = min_age,   time = years ) head(df_snapshots) #> # A tibble: 6 √ó 6 #> # Groups:   subject_id [1] #>   subject_id state  time   age  dage   sex #>   <chr>      <int> <dbl> <dbl> <int> <int> #> 1 100002         1  0     52.5    21     0 #> 2 100002         1  1.00  52.5    21     0 #> 3 100002         2  2.00  52.5    21     0 #> 4 100002         2  3.09  52.5    21     0 #> 5 100002         2  4     52.5    21     0 #> 6 100002         3  5.00  52.5    21     0 df_state_changes <- df_snapshots |>   arrange(subject_id, time) |>   group_by(subject_id) |>   mutate(     .first = row_number() == 1,     .last  = row_number() == n(),     .chg   = state != lag(state) # TRUE at the first row of each new state run   ) |>   filter(.first | .last | .chg | is.na(lag(state))) |> # keep first, last, and changes   select(-.first, -.last, -.chg) |>   ungroup()  # Every row is a transition but the first df_state_changes <- df_state_changes |>   group_by(subject_id) |>   mutate(is_transition = tidyr::replace_na(state != lag(state), FALSE)) |>   ungroup() head(df_state_changes) #> # A tibble: 6 √ó 7 #>   subject_id state  time   age  dage   sex is_transition #>   <chr>      <int> <dbl> <dbl> <int> <int> <lgl>         #> 1 100002         1  0     52.5    21     0 FALSE         #> 2 100002         2  2.00  52.5    21     0 TRUE          #> 3 100002         3  5.00  52.5    21     0 TRUE          #> 4 100002         4  5.85  52.5    21     0 TRUE          #> 5 100003         1  0     29.5    17     0 FALSE         #> 6 100003         3  2.01  29.5    17     0 TRUE"},{"path":"https://generable.github.io/bmstate/articles/analysis.html","id":"transition-matrix","dir":"Articles","previous_headings":"Data","what":"Transition matrix","title":"Time-to-event data analysis with the bmstate package","text":"use following transition matrix, built package.","code":"tm <- transmat_progression() tm #>         Healthy Mild Severe Dead #> Healthy       0    1      1    1 #> Mild          0    0      1    1 #> Severe        0    0      0    1 #> Dead          0    0      0    0"},{"path":"https://generable.github.io/bmstate/articles/analysis.html","id":"the-pathdata-format","dir":"Articles","previous_headings":"Data","what":"The PathData format","title":"Time-to-event data analysis with the bmstate package","text":"format data PathData.","code":"covs <- c(\"age\", \"dage\", \"sex\") pd <- df_to_pathdata(df_state_changes, tm, covs) pd #> PathData object with 622 paths #>  * States = {Healthy, Mild, Severe, Dead} #>  * Covariates = {age, dage, sex}"},{"path":[]},{"path":"https://generable.github.io/bmstate/articles/analysis.html","id":"fitting-a-model","dir":"Articles","previous_headings":"Analysis","what":"Fitting a model","title":"Time-to-event data analysis with the bmstate package","text":"create model set spline knot locations based quantiles observed transition times. fit model optimizing.","code":"# MSM mod <- create_msm(tm,   hazard_covs = covs,   n_grid = 10000,   t_max = 20 ) t_trans <- pd$transition_times() mod$set_knots(t_max = 20, t_event = t_trans, num_knots = 3) mod$get_knots() #> [1]  0.000000  4.980822 20.000000 fit <- fit_stan(mod, data = pd, method = \"optimize\") #> Using stan file at /home/runner/work/_temp/Library/bmstate/stan/msm.stan #> Initial log joint probability = -362803  #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #> Error evaluating model log probability: Non-finite gradient.  #> Error evaluating model log probability: Non-finite gradient.  #> Error evaluating model log probability: Non-finite gradient.  #> Error evaluating model log probability: Non-finite gradient.  #>       99      -1859.49     0.0281839       13.4581           1           1      121     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      199      -1858.05     0.0152368       1.88641           1           1      227     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      299      -1857.87    0.00716934       2.13723           1           1      338     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      399      -1857.79    0.00653108       1.98944      0.1595           1      449     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      499      -1857.74    0.00123761      0.191422           1           1      556     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      599      -1857.72     0.0095713      0.502378           1           1      663     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      699      -1857.71    0.00255015      0.596568           1           1      772     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      799      -1857.69   0.000664024      0.230892           1           1      880     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      841      -1857.69   0.000797173     0.0860521           1           1      924     #> Optimization terminated normally:   #>   Convergence detected: relative gradient magnitude is below tolerance  #> Finished in  3.4 seconds."},{"path":"https://generable.github.io/bmstate/articles/analysis.html","id":"inferred-baseline-hazards","dir":"Articles","previous_headings":"Analysis","what":"Inferred baseline hazards","title":"Time-to-event data analysis with the bmstate package","text":"","code":"plt <- fit$plot_h0() plt"},{"path":"https://generable.github.io/bmstate/articles/analysis.html","id":"inferred-covariate-effects","dir":"Articles","previous_headings":"Analysis","what":"Inferred covariate effects","title":"Time-to-event data analysis with the bmstate package","text":"","code":"fit$covariate_effects() #>   covariate         beta target_state_idx target_state #> 1       age -0.0089 ¬± NA                2         Mild #> 2       age -0.0559 ¬± NA                3       Severe #> 3       age  0.3135 ¬± NA                4         Dead #> 4      dage  0.3429 ¬± NA                2         Mild #> 5      dage  0.0458 ¬± NA                3       Severe #> 6      dage  0.1009 ¬± NA                4         Dead #> 7       sex -0.1583 ¬± NA                2         Mild #> 8       sex -0.0761 ¬± NA                3       Severe #> 9       sex  0.1411 ¬± NA                4         Dead"},{"path":"https://generable.github.io/bmstate/articles/analysis.html","id":"state-occupancy-probabilities","dir":"Articles","previous_headings":"Analysis","what":"State occupancy probabilities","title":"Time-to-event data analysis with the bmstate package","text":"subject, compute probability given state time tt. plot state occupancy probabilities, coloring different covariate values.","code":"p_state_df <- function(fit, oos, data = NULL) {   df <- p_state_occupancy(fit, data = data, oos = oos)   if (is.null(data)) {     data <- fit$data   }   df <- df |> left_join(data$paths$subject_df, by = \"subject_id\")   df$State <- paste0(df$state_idx, \": \", df$state)   df$sex <- as.factor(df$sex)   df } df <- p_state_df(fit, oos = FALSE) #> Recompiling Stan model #> Using stan file at /home/runner/work/_temp/Library/bmstate/stan/msm.stan #> ar: creating stan/lib/stan_math/lib/sundials_6.1.1/lib/libsundials_nvecserial.a #> ar: creating stan/lib/stan_math/lib/sundials_6.1.1/lib/libsundials_cvodes.a #> ar: creating stan/lib/stan_math/lib/sundials_6.1.1/lib/libsundials_idas.a #> ar: creating stan/lib/stan_math/lib/sundials_6.1.1/lib/libsundials_kinsol.a #> /home/runner/.cmdstan/cmdstan-2.37.0/stan/lib/stan_math/lib/tbb_2020.3/build/Makefile.tbb:28: CONFIG: cfg=release arch=intel64 compiler=gcc target=linux runtime=cc13.3.0_libc2.39_kernel6.11.0 #> In file included from ../tbb_2020.3/src/tbb/concurrent_hash_map.cpp:17: #> ../tbb_2020.3/include/tbb/concurrent_hash_map.h:347:23: warning: ‚Äòtemplate<class _Category, class _Tp, class _Distance, class _Pointer, class _Reference> struct std::iterator‚Äô is deprecated [-Wdeprecated-declarations] #>   347 |         : public std::iterator<std::forward_iterator_tag,Value> #>       |                       ^~~~~~~~ #> In file included from /usr/include/c++/13/bits/stl_construct.h:61, #>                  from /usr/include/c++/13/bits/stl_tempbuf.h:61, #>                  from /usr/include/c++/13/memory:66, #>                  from ../tbb_2020.3/include/tbb/tbb_stddef.h:452, #>                  from ../tbb_2020.3/include/tbb/concurrent_hash_map.h:23: #> /usr/include/c++/13/bits/stl_iterator_base_types.h:127:34: note: declared here #>   127 |     struct _GLIBCXX17_DEPRECATED iterator #>       |                                  ^~~~~~~~ #> cc1plus: note: unrecognized command-line option ‚Äò-Wno-unknown-warning-option‚Äô may have been intended to silence earlier diagnostics #> In file included from ../tbb_2020.3/src/tbb/concurrent_queue.cpp:22: #> ../tbb_2020.3/include/tbb/internal/_concurrent_queue_impl.h:749:21: warning: ‚Äòtemplate<class _Category, class _Tp, class _Distance, class _Pointer, class _Reference> struct std::iterator‚Äô is deprecated [-Wdeprecated-declarations] #>   749 |         public std::iterator<std::forward_iterator_tag,Value> { #>       |                     ^~~~~~~~ #> In file included from /usr/include/c++/13/bits/stl_construct.h:61, #>                  from /usr/include/c++/13/bits/stl_tempbuf.h:61, #>                  from /usr/include/c++/13/memory:66, #>                  from ../tbb_2020.3/include/tbb/tbb_stddef.h:452, #>                  from ../tbb_2020.3/src/tbb/concurrent_queue.cpp:17: #> /usr/include/c++/13/bits/stl_iterator_base_types.h:127:34: note: declared here #>   127 |     struct _GLIBCXX17_DEPRECATED iterator #>       |                                  ^~~~~~~~ #> ../tbb_2020.3/include/tbb/internal/_concurrent_queue_impl.h:1013:21: warning: ‚Äòtemplate<class _Category, class _Tp, class _Distance, class _Pointer, class _Reference> struct std::iterator‚Äô is deprecated [-Wdeprecated-declarations] #>  1013 |         public std::iterator<std::forward_iterator_tag,Value> { #>       |                     ^~~~~~~~ #> /usr/include/c++/13/bits/stl_iterator_base_types.h:127:34: note: declared here #>   127 |     struct _GLIBCXX17_DEPRECATED iterator #>       |                                  ^~~~~~~~ #> cc1plus: note: unrecognized command-line option ‚Äò-Wno-unknown-warning-option‚Äô may have been intended to silence earlier diagnostics #> calling solve_trans_prob_matrix 622 x 1 times # Plot by age plt_age <- ggplot(df, aes(x = time, y = mean(prob), group = subject_id, color = age)) +   facet_wrap(. ~ State) +   geom_line(alpha = 0.25) +   scale_color_viridis_c() +   ylab(\"State probability\") plt_age # By sex df_bysex <- df |>   group_by(State, time, sex) |>   summarise(p_mean = mean(mean(prob)), .groups = \"drop\") plt_sex <- ggplot(df_bysex, aes(x = time, y = p_mean, group = sex, color = sex)) +   facet_wrap(. ~ State) +   geom_line() +   ylab(\"Mean state probability\") plt_sex # By donor age plt_dage <- ggplot(df, aes(x = time, y = mean(prob), group = subject_id, color = dage)) +   facet_wrap(. ~ State) +   geom_line(alpha = 0.25) +   scale_color_viridis_c() +   ylab(\"State probability\") plt_dage"},{"path":"https://generable.github.io/bmstate/articles/analysis.html","id":"predicting-for-a-new-subject","dir":"Articles","previous_headings":"Analysis","what":"Predicting for a new subject","title":"Time-to-event data analysis with the bmstate package","text":"function creating test data new subject given covariates given state time 0. can use like predict state occupancy probabilities 60 years old subject sex 0, considering got transplant donor given age.","code":"create_test_subject <- function(state, dages = c(20, 30, 40, 50, 60, 70, 80), age = 60, sex = 0) {   pdf <- NULL   sdf <- NULL   ldf <- NULL   j <- 0   for (dage in dages) {     j <- j + 1     sid <- paste0(\"test-\", dage)     pdf_j <- data.frame(path_id = j, state = state, time = c(0, 20), trans_idx = c(0, 1))     sdf_j <- data.frame(subject_id = sid, age = age, dage = dage, sex = sex)     ldf_j <- data.frame(path_id = j, draw_idx = 1, rep_idx = 1, subject_id = sid)     pdf <- rbind(pdf, pdf_j)     ldf <- rbind(ldf, ldf_j)     sdf <- rbind(sdf, sdf_j)   }    pd <- PathData$new(sdf, pdf, ldf, fit$model$system$tm(), c(\"age\", \"dage\", \"sex\"))   JointData$new(paths = pd, dosing = NULL) }"},{"path":"https://generable.github.io/bmstate/articles/analysis.html","id":"starting-healthy","dir":"Articles","previous_headings":"Analysis > Predicting for a new subject","what":"Starting healthy","title":"Time-to-event data analysis with the bmstate package","text":"","code":"dat_test <- create_test_subject(state = 1) df_test <- p_state_df(fit, data = dat_test, oos = TRUE) #> calling solve_trans_prob_matrix 7 x 1 times ggplot(df_test, aes(x = time, y = mean(prob), group = subject_id, color = dage)) +   facet_wrap(. ~ State) +   geom_line() +   scale_color_viridis_c() +   ylab(\"State probability\")"},{"path":"https://generable.github.io/bmstate/articles/analysis.html","id":"starting-from-mild-cav","dir":"Articles","previous_headings":"Analysis > Predicting for a new subject","what":"Starting from Mild CAV","title":"Time-to-event data analysis with the bmstate package","text":"","code":"dat_test <- create_test_subject(state = 2) df_test <- p_state_df(fit, data = dat_test, oos = TRUE) #> calling solve_trans_prob_matrix 7 x 1 times ggplot(df_test, aes(x = time, y = mean(prob), group = subject_id, color = dage)) +   facet_wrap(. ~ State) +   geom_line() +   scale_color_viridis_c() +   ylab(\"State probability\")"},{"path":"https://generable.github.io/bmstate/articles/analysis.html","id":"starting-from-severe-cav","dir":"Articles","previous_headings":"Analysis > Predicting for a new subject","what":"Starting from Severe CAV","title":"Time-to-event data analysis with the bmstate package","text":"","code":"dat_test <- create_test_subject(state = 3) df_test <- p_state_df(fit, data = dat_test, oos = TRUE) #> calling solve_trans_prob_matrix 7 x 1 times ggplot(df_test, aes(x = time, y = mean(prob), group = subject_id, color = dage)) +   facet_wrap(. ~ State) +   geom_line() +   scale_color_viridis_c() +   ylab(\"State probability\")"},{"path":"https://generable.github.io/bmstate/articles/analysis.html","id":"generating-paths","dir":"Articles","previous_headings":"Analysis","what":"Generating paths","title":"Time-to-event data analysis with the bmstate package","text":"simulate state paths single subject using fit. compute 20-year state visit probabilities. can study death event time distribution subject.","code":"dat_test <- pd$filter(pd$subject_df$subject_id[1]) pg <- generate_paths(fit, oos = TRUE, data = dat_test, n_rep = 1000) #> Computing hazard multipliers and getting state vector at t_start #> Generating paths #> Generating 1000 paths p1 <- p_state_visit_per_subject(pg, \"Mild\") p2 <- p_state_visit_per_subject(pg, \"Severe\") p3 <- p_state_visit_per_subject(pg, \"Dead\") psv <- rbind(p1, p2, p3) |> left_join(pg$subject_df, by = \"subject_id\") psv #>   subject_id  prob      age dage sex #> 1     100002 0.519 52.49589   21   0 #> 2     100002 0.265 52.49589   21   0 #> 3     100002 0.990 52.49589   21   0 td <- pg$as_transitions() |> filter(trans_idx > 0 & to == 4) ggplot(td, aes(x = time)) +   stat_halfeye() +   xlab(\"Death time\") +   ylab(\"Density\")"},{"path":[]},{"path":"https://generable.github.io/bmstate/articles/exposure-hazard.html","id":"setup","dir":"Articles","previous_headings":"Data simulation","what":"Setup","title":"Exposure-hazard multistate modeling with bmstate","text":"","code":"library(bmstate) #> Attached bmstate 0.2.9. Type ?bmstate to get started. library(dplyr) #>  #> Attaching package: 'dplyr' #> The following objects are masked from 'package:stats': #>  #>     filter, lag #> The following objects are masked from 'package:base': #>  #>     intersect, setdiff, setequal, union library(tidyr) library(tibble) library(ggplot2) # Setup params <- list(   N_subject = 600,   iter_warmup = 800,   iter_sampling = 400,   chains = 1 )  # Names of event states event_state_names <- function(model) {   tm <- model$system$tm()   tm$states_df() |>     filter(!source) |>     pull(state) }"},{"path":"https://generable.github.io/bmstate/articles/exposure-hazard.html","id":"true-data-generating-model","dir":"Articles","previous_headings":"Data simulation","what":"True data-generating model","title":"Exposure-hazard multistate modeling with bmstate","text":"","code":"# True beta create_true_covariate_effects <- function(mod) {   NTT <- mod$system$num_states() - 1   C <- length(mod$covs())   bh_true <- matrix(0, NTT, C)   bh_true[1, 2] <- 1   bh_true[2, 2] <- -1   bh_true[3, 1] <- 0.3   sn <- event_state_names(mod)   rownames(bh_true) <- paste0(\"Effect on \", sn)   colnames(bh_true) <- mod$covs()   df <- data.frame(bh_true) |>     rownames_to_column(\"event\") |>     pivot_longer(cols = -event, names_to = \"covariate\", values_to = \"beta\")   beta_pk <- list(CL = c(0.3, -0.3), V2 = c(0.3))   list(df = df, matrix = bh_true, pk = beta_pk) }  # True baseline hazard parameters create_true_baseline_hazard <- function(mod) {   tm <- mod$system$tm()    # Spline weights   w_true <- matrix(0, 7, 9)   for (j in 1:7) {     ww <- rep(0, 9)     if (tm$trans_df()$trans_type[j] == 2) {       ww <- rep(-1, 9)       ww[3:5] <- 1     }     if (tm$trans_df()$trans_type[j] == 3) {       ww <- rep(-1, 9)       ww[4:8] <- 1     }     w_true[j, ] <- ww   }    # Intercept   w0_true <- 0.5 * 1e-3   w0_true_vec <- rep(w0_true, 7)   w0_true_vec[3] <- 0.1 * w0_true   w0_true_vec[5] <- 5 * w0_true   w0_true_vec[7] <- 20 * w0_true    # Return   list(w0 = w0_true_vec, w = w_true) }  # True data-generating model create_true_model <- function() {   # Create models   sn <- c(\"Healthy\", \"Bleed\", \"Stroke\", \"Dead\")   tm <- transmat_diamond(state_names = sn)   t3yr <- 3 * 365.25   haz_covs <- c(\"age\")   pk_covs <- list(     CL = c(\"CrCL\", \"age\"), V2 = \"weight\"   )   create_msm(     tm,     hazard_covs = haz_covs, pk_covs = pk_covs, num_knots = 8, t_max = t3yr   ) }  # Create oracle fit draws create_oracle_fit <- function(similar_fit, beta_true, h0_true) {   checkmate::assert_true(similar_fit$is_point_estimate())   weights <- similar_fit$get_draws(\"weights\")   weights[1, , ] <- h0_true$w   log_w0 <- similar_fit$get_draws(\"log_w0\")   log_w0[1, ] <- log(h0_true$w0)    beta_oth <- similar_fit$get_draws(\"beta_oth\")   beta_oth[1, , ] <- t(beta_true$matrix[, 1])   beta_oth <- posterior::rvar(beta_oth)    beta_auc <- similar_fit$get_draws(\"beta_auc\")   beta_auc[1, , ] <- t(beta_true$matrix[, 2])    lp <- similar_fit$get_draws(\"lp__\")   lp[] <- NA   log_z_pk <- similar_fit$get_draws(\"log_z_pk\")   log_z_pk[, , ] <- 0   log_sig_pk <- similar_fit$get_draws(\"log_sig_pk\")   log_sig_pk[, ] <- 0   log_mu_pk <- similar_fit$get_draws(\"log_mu_pk\")   log_mu_pk[, ] <- 0   sigma_pk <- similar_fit$get_draws(\"sigma_pk\")   sigma_pk[] <- 0.3   beta_CL <- similar_fit$get_draws(\"beta_CL\")   beta_CL[1, ] <- beta_true$pk$CL   beta_V2 <- similar_fit$get_draws(\"beta_V2\")   beta_V2[1, ] <- beta_true$pk$V2    # Create fit   draws <- list(     beta_oth = beta_oth,     beta_auc = beta_auc,     beta_CL = beta_CL,     beta_V2 = beta_V2,     weights = weights,     log_z_pk = log_z_pk,     log_sig_pk = log_sig_pk,     log_mu_pk = log_mu_pk,     sigma_pk = sigma_pk,     log_w0 = log_w0,     lp__ = lp   )   sd <- similar_fit$get_data()   mod <- similar_fit$model   MultistateModelFit$new(similar_fit$data, sd, mod, draws,     info = \"Oracle fit\"   ) }"},{"path":"https://generable.github.io/bmstate/articles/exposure-hazard.html","id":"data-simulation-1","dir":"Articles","previous_headings":"Data simulation","what":"Data simulation","title":"Exposure-hazard multistate modeling with bmstate","text":"","code":"mod_true <- create_true_model() beta_true <- create_true_covariate_effects(mod_true) h0_true <- create_true_baseline_hazard(mod_true) simdat <- mod_true$simulate_data(   params$N_subject,   beta_haz = beta_true$matrix,   beta_pk = beta_true$pk,   w0 = h0_true$w0,   w = h0_true$w ) #> Recompiling Stan model #> Using stan file at /home/runner/work/_temp/Library/bmstate/stan/msm.stan #> Warning in check_normalized_covariate(x_norm, \"ss_auc\"): Normalized ss_auc has #> maximum absolute value 11.11106, are you sure normalization of covariates is #> correct? #> Generating 600 paths covs_dh <- unique(c(mod_true$data_covs(), \"dose_amt\")) simdat_dh <- simdat$paths$subset_covariates(covs_dh, renamed_old = \"dose\", renamed_new = \"dose_amt\") simdat_death <- as_single_event(simdat_dh, \"Dead\", null_state = \"Healthy\")  sa <- simdat$paths$subject_df$ss_auc mod_true$set_auc_normalizers(loc = mean(sa), scale = stats::sd(sa)) #> setting auc normalizers to loc = 2071.2843, scale = 1770.30317  simdat <- mod_true$simulate_data(   params$N_subject,   beta_haz = beta_true$matrix,   beta_pk = beta_true$pk,   w0 = h0_true$w0,   w = h0_true$w ) #> Generating 600 paths print(simdat) #> A JointData object:  #> PathData object with 600 paths #>  * States = {Healthy, Bleed, Stroke, Dead} #>  * Covariates = {age, CrCL, weight, dose, t_pre, t_post, conc_pre, conc_post, ss_auc, ka, CL, V2, pk_lloq} #>  #> A DosingData object with 600 subjects"},{"path":[]},{"path":"https://generable.github.io/bmstate/articles/exposure-hazard.html","id":"defining-models","dir":"Articles","previous_headings":"Modeling","what":"Defining models","title":"Exposure-hazard multistate modeling with bmstate","text":"","code":"NK <- 4 tm <- mod_true$system$tm() pk_covs <- list(   ka = mod_true$pk_model$ka_covs(),   CL = mod_true$pk_model$CL_covs(),   V2 = mod_true$pk_model$V2_covs() )  # Exposure-hazard multistate model mod_ms_eh <- create_msm(   tm,   hazard_covs = setdiff(mod_true$covs(), \"ss_auc\"),   pk_covs = pk_covs,   num_knots = NK, t_max = mod_true$get_tmax() )  # Dose-hazard multistate model mod_ms_dh <- create_msm(   tm,   hazard_covs = covs_dh, num_knots = NK, t_max = mod_true$get_tmax() )  # Survival model tm0 <- transmat_survival(tm$states[c(1, 4)]) mod_death <- create_msm(   tm0,   hazard_covs = covs_dh, num_knots = NK, t_max = mod_true$get_tmax() ) # Inference model knots t3yr <- mod_true$get_tmax() tt1 <- simdat$paths$transition_times() tt2 <- simdat_dh$transition_times() tt3 <- simdat_death$transition_times() mod_ms_eh$set_knots(t3yr, tt1, NK) mod_ms_dh$set_knots(t3yr, tt2, NK) mod_death$set_knots(t3yr, tt3, NK) # Oracle fit fit_prelim <- fit_stan(mod_true, simdat, method = \"optimize\", init = 0, iter = 100) #> Shortest time interval (0.101164891162739) is smaller than delta_grid (1.09575). Consider increasing n_grid or decreasing t_max of the model. #> Using stan file at /home/runner/work/_temp/Library/bmstate/stan/msm.stan #> setting auc normalizers to loc = 1946.42405, scale = 1030.76555 #> setting max conc = 7812.11765 #> Initial log joint probability = -913364  #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #> Error evaluating model log probability: Non-finite gradient.  #> Error evaluating model log probability: Non-finite gradient.  #>       99        -10054      0.533178       236.108           1           1      119     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      100      -10047.7      0.189833       130.448       0.955       0.955      120     #> Optimization terminated normally:   #>   Maximum number of iterations hit, may not be at an optima  #> Finished in  0.8 seconds. fit_true <- create_oracle_fit(fit_prelim, beta_true, h0_true) fit_true$covariate_effects() #>   covariate      beta target_state_idx target_state #> 1       age  0.0 ¬± NA                2        Bleed #> 2       age  0.0 ¬± NA                3       Stroke #> 3       age  0.3 ¬± NA                4         Dead #> 4    ss_auc  1.0 ¬± NA                2        Bleed #> 5    ss_auc -1.0 ¬± NA                3       Stroke #> 6    ss_auc  0.0 ¬± NA                4         Dead fit_true$plot_pk() #> PK simulation fit_true$plot_h0()"},{"path":"https://generable.github.io/bmstate/articles/exposure-hazard.html","id":"fitting-various-models","dir":"Articles","previous_headings":"Modeling","what":"Fitting various models","title":"Exposure-hazard multistate modeling with bmstate","text":"","code":"fit_ms_eh <- fit_stan(mod_ms_eh, simdat, method = \"optimize\", init = 0) #> Shortest time interval (0.101164891162739) is smaller than delta_grid (1.09575). Consider increasing n_grid or decreasing t_max of the model. #> Using stan file at /home/runner/work/_temp/Library/bmstate/stan/msm.stan #> setting auc normalizers to loc = 1946.42405, scale = 1030.76555 #> setting max conc = 7812.11765 #> Initial log joint probability = -913214  #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #> Error evaluating model log probability: Non-finite gradient.  #> Error evaluating model log probability: Non-finite gradient.  #>       99        -11598      0.111203       1284.24      0.4398      0.4398      127     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      199        -10650     0.0147766       3142.56       0.231       0.231      245     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      299      -10119.2      0.102406       1843.96           1           1      354     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      399      -9700.65     0.0939468       1590.68           1           1      479     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      499      -9210.67     0.0359452       1998.75      0.8871      0.8871      587     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      599      -8661.82      0.128189       3063.91           1           1      695     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      699      -8217.94      0.217147       607.564           1           1      809     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      799      -7993.53     0.0402209       867.503           1           1      924     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      899      -7817.11    0.00780137       2229.05      0.6751      0.6751     1032     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      999      -7670.43     0.0109006       653.835           1           1     1147     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>     1099      -7557.53     0.0442656        1474.1       0.339           1     1263     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>     1199      -7488.16     0.0392131        1038.8           1           1     1372     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>     1299      -7402.29    0.00842692       790.551           1           1     1483     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>     1399      -7301.99    0.00629007       654.448           1           1     1594     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>     1499      -7212.89     0.0385246       980.136           1           1     1703     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>     1599      -7153.81     0.0102807       561.833           1           1     1810     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>     1699      -7105.35    0.00122472       307.033           1           1     1927     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>     1799      -7075.92     0.0808023       2341.81           1           1     2039     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>     1899      -7028.52    0.00288425       536.327           1           1     2148     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>     1999      -6998.48    0.00666188       317.419           1           1     2261     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>     2000      -6998.35    0.00343086       303.829           1           1     2262     #> Optimization terminated normally:   #>   Maximum number of iterations hit, may not be at an optima  #> Finished in  13.7 seconds. fit_ms_dh <- fit_stan(mod_ms_dh, simdat_dh, method = \"optimize\", init = 0) #> Shortest time interval (0.0999999999999943) is smaller than delta_grid (1.09575). Consider increasing n_grid or decreasing t_max of the model. #> Using stan file at /home/runner/work/_temp/Library/bmstate/stan/msm.stan #> Initial log joint probability = -823515  #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>       99      -6166.77      0.324794       95.4285           1           1      127     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      199      -6121.13     0.0145094       18.6248           1           1      238     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      299      -6093.87     0.0128702       26.3508      0.3991      0.3991      346     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      399      -6081.71    0.00929491       10.9813           1           1      456     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      499      -6080.61    0.00239326       8.66947           1           1      566     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      599      -6080.33    0.00493426       5.41942           1           1      672     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      699      -6080.04     0.0457803       8.99354           1           1      782     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      799      -6079.82     0.0244148       12.3921      0.2345           1      891     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      899      -6079.65    0.00134296       1.55655           1           1     1002     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      999      -6079.59    0.00514431       2.65507           1           1     1119     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>     1099      -6079.57    0.00460345       1.78312           1           1     1234     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>     1199      -6079.54     0.0105793       2.77461           1           1     1342     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>     1299      -6079.36      0.118515       9.08166           1           1     1451     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>     1399      -6079.13   0.000727898        3.0097           1           1     1558     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>     1499      -6079.04   0.000239679       1.89155      0.6807      0.6807     1666     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>     1555      -6079.03   0.000894302      0.452686           1           1     1728     #> Optimization terminated normally:   #>   Convergence detected: relative gradient magnitude is below tolerance  #> Finished in  7.0 seconds. fit_death <- fit_stan(mod_death, simdat_death, method = \"optimize\", init = 0) #> Using stan file at /home/runner/work/_temp/Library/bmstate/stan/msm.stan #> Initial log joint probability = -290039  #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>       99       -3436.6      0.013958       2.28045           1           1      119     #>     Iter      log prob        ||dx||      ||grad||       alpha      alpha0  # evals  Notes   #>      124      -3436.51    0.00200116     0.0855125      0.8082      0.8082      149     #> Optimization terminated normally:   #>   Convergence detected: relative gradient magnitude is below tolerance  #> Finished in  0.1 seconds. fit_ms_eh$plot_h0() fit_ms_eh$covariate_effects() #>   covariate       beta target_state_idx target_state #> 1       age -0.16 ¬± NA                2        Bleed #> 2       age -1.03 ¬± NA                3       Stroke #> 3       age -0.17 ¬± NA                4         Dead #> 4    ss_auc  3.33 ¬± NA                2        Bleed #> 5    ss_auc  3.25 ¬± NA                3       Stroke #> 6    ss_auc  2.13 ¬± NA                4         Dead fit_ms_dh$covariate_effects() #>    covariate        beta target_state_idx target_state #> 1        age  0.966 ¬± NA                2        Bleed #> 2        age -0.415 ¬± NA                3       Stroke #> 3        age  0.264 ¬± NA                4         Dead #> 4       CrCL -0.775 ¬± NA                2        Bleed #> 5       CrCL  0.273 ¬± NA                3       Stroke #> 6       CrCL -0.062 ¬± NA                4         Dead #> 7     weight -0.858 ¬± NA                2        Bleed #> 8     weight  0.301 ¬± NA                3       Stroke #> 9     weight -0.034 ¬± NA                4         Dead #> 10  dose_amt  1.451 ¬± NA                2        Bleed #> 11  dose_amt -0.749 ¬± NA                3       Stroke #> 12  dose_amt  0.047 ¬± NA                4         Dead fit_death$covariate_effects() #>   covariate        beta target_state_idx target_state #> 1       age  0.029 ¬± NA                2         Dead #> 2      CrCL -0.016 ¬± NA                2         Dead #> 3    weight  0.032 ¬± NA                2         Dead #> 4  dose_amt -0.016 ¬± NA                2         Dead fit_ms_eh$plot_pk() #> PK simulation"},{"path":[]},{"path":"https://generable.github.io/bmstate/articles/math.html","id":"states-and-transitions","dir":"Articles","previous_headings":"Multistate hazard model","what":"States and transitions","title":"Mathematical description of models in the bmstate package","text":"multistate model, can represent possible transitions states directed edges graph whose SS nodes correspond states s‚àà1,‚Ä¶,Ss \\{1, \\ldots, S}. transitions start node risk simultaneously system state. transitions risk simultaneously competing, meaning occurrence one transition censors ones. example multistate system.","code":"tmat <- transmat_illnessdeath() tmat$plot() tmat$states_df() #>   state_idx    state terminal source #> 1         1  Healthy    FALSE   TRUE #> 2         2 Diseased    FALSE  FALSE #> 3         3     Dead     TRUE  FALSE tmat$trans_df() #>   trans_idx prev_state state          trans_char trans_type #> 1         1          1     2 Healthy -> Diseased          1 #> 2         2          1     3     Healthy -> Dead          2 #> 3         3          2     3    Diseased -> Dead          2"},{"path":"https://generable.github.io/bmstate/articles/math.html","id":"hazard-model","dir":"Articles","previous_headings":"Multistate hazard model","what":"Hazard model","title":"Mathematical description of models in the bmstate package","text":"transition h=1,‚Ä¶,Hh = 1, \\ldots, H observation unit (subject) n=1,‚Ä¶,Nn = 1, \\ldots, N, hazard rates Œªn(h)(t)\\lambda^{(h)}_n(t), h=1,‚Ä¶,Hh = 1, \\ldots, H, modeled Œªn(h)(t)=b(h)(t)exp(Œ≤Th‚ä§ùê±n) \\lambda^{(h)}_n(t) = b^{(h)}(t)\\exp\\left(\\beta_{T_h}^{\\top} \\mathbf{x}_n \\right) b(h)(t)b^{(h)}(t) represents baseline hazard transition hh ThT_h integer indexing type (trans_type) transition hh Œ≤Th\\beta_{T_h} regression coefficient transition type ThT_h ùê±n\\mathbf{x}_n includes time-independent covariates unit nn group transitions end state together transition type.","code":"el <- parse(text = paste0(\"lambda[n]^(\", c(1, 2, 3), \")\")) tmat$plot(edge_labs = el, edge.label.cex = 1.5)"},{"path":"https://generable.github.io/bmstate/articles/math.html","id":"baseline-hazards","dir":"Articles","previous_headings":"Multistate hazard model","what":"Baseline hazards","title":"Mathematical description of models in the bmstate package","text":"log baseline hazard logb(h)(t)\\log b^{(h)}(t) modeled nonparametrically log(b(h)(t))=b0(h)+B(h)(t) \\log \\left(b^{(h)}(t)\\right) = b_0^{(h)} + B^{(h)}(t)  b0(h)b_0^{(h)} constant B(h)(t)B^{(h)}(t) time-dependent variation modeled using B-splines. knot locations splines transitions.","code":""},{"path":"https://generable.github.io/bmstate/articles/math.html","id":"priors","dir":"Articles","previous_headings":"Multistate hazard model","what":"Priors","title":"Mathematical description of models in the bmstate package","text":"Currently package uses standard normal prior coefficients Œ≤\\beta. prior weights spline basis functions set hierarchically transitions type shared mean. Also average log hazard rates b0(h)b_0^{(h)} hierarchical prior transitions type shared mean. prior mean estimated data using standard Cox proportional hazards model fit. can view prior Stan code example like .","code":"stan_lines <- readLines(default_stan_filepath()) line_idx <- which(grepl(stan_lines, pattern = \"HAZARD PARAM PRIOR\")) stan_lines_prior <- stan_lines[line_idx[1]:line_idx[2]] prior_stan_code <- paste(stan_lines_prior, collapse = \"\\n\") cat(prior_stan_code) #>   // HAZARD PARAM PRIOR #>   if(do_haz == 1){ #>     if(nc_haz > 0){ #>       for(k in 1:nc_haz){ #>         beta_oth[1, k] ~ normal(0, 1); #>       } #>     } #>     if(I_auc==1){ #>       beta_auc[1, 1] ~ normal(0, 1); // only if has pk submodel #>     } #>  #>     // Baseline hazard base level #>     sig_w0[1] ~ normal(0, 3); #>     to_vector(z_w0[1]) ~ std_normal(); #>  #>     // Baseline hazard spline weights #>     to_vector(mu_weights[1]) ~ normal(0, 1); #>     to_vector(sig_weights[1]) ~ normal(0, 0.3); #>     to_vector(z_weights[1]) ~ std_normal(); #>   } #>   // END HAZARD PARAM PRIOR"},{"path":"https://generable.github.io/bmstate/articles/math.html","id":"using-custom-stan-code","dir":"Articles","previous_headings":"Multistate hazard model","what":"Using custom Stan code","title":"Mathematical description of models in the bmstate package","text":"able write full_stan_code file, edit file, set options(bmstate_stan_file = path_to_your_file). path custom Stan model code set, correctness package functionality guaranteed. However, safe change example just prior parameter , say, normal(0, 1) student_t(4, 0, 1) example.","code":"stan_lines <- readLines(default_stan_filepath()) full_stan_code <- paste(stan_lines, collapse = \"\\n\")"},{"path":[]},{"path":"https://generable.github.io/bmstate/articles/math.html","id":"binary-matrix-representation-of-observed-data","dir":"Articles","previous_headings":"Likelihood evaluation","what":"Binary matrix representation of observed data","title":"Mathematical description of models in the bmstate package","text":"subject =1,‚Ä¶,Ni = 1, \\ldots, N, state transition times divide follow-time period Ki‚â•1K_i \\geq 1 intervals. assume t0()=0t^{()}_0 = 0 start time first interval k‚â•1k \\geq 1 use tk()t^{()}_k denote end time kkth interval. Furthermore, let s0()s^{()}_0 initial state sk()‚àà{1,‚Ä¶,S}s^{()}_k \\\\{1, \\ldots, S\\} denote state subject ii end time interval. use binary variable Œ¥k,(h)\\delta_{k,}^{(h)} indicate whether transition h‚àà{1,‚Ä¶,H}h \\\\{1, \\ldots, H\\} occurred end kkth time interval unit ii. Another binary variable Ik,(h)I_{k,}^{(h)} indicates whether unit ii risk transition hh kkth time interval. collect entire observed multistate path (event sequence) data ùêÉMS={Œîi,ùêài,ùê≠i}=1N\\mathbf{D}_{\\textrm{MS}} = \\left \\{\\Delta_i, \\mathbf{}_i, \\mathbf{t}_i \\right\\}_{=1}^N Œîi\\Delta_i, ùêài\\mathbf{}_i ùê≠i\\mathbf{t}_i contain transition indicator, risk indicator, interval time data unit ii, respectively. generate example data single subject plot realized path.  plot corresponding binary values Œ¥k,1(h)\\delta_{k,1}^{(h)} Ik,1(h)I_{k,1}^{(h)} H√óKH \\times K matrices transition at_risk, respectively.","code":"set.seed(2344) mod <- create_msm(tmat, n_grid = 12) # set very low n_grid for demo h0_true <- rep(1e-3, 3) mod$set_prior_mean_h0(h0_true) # has no effect for simulation dat <- mod$simulate_data(N_subject = 1, w0 = h0_true) #> Generating 1 paths dat$paths$plot_paths(truncate = TRUE, alpha = 1) + ggtitle(\"\") sd <- create_stan_data(mod, dat) a <- plot_stan_data_matrix(mod, sd, \"transition\", 1) b <- plot_stan_data_matrix(mod, sd, \"at_risk\", 1) gridExtra::grid.arrange(a, b, nrow = 1, ncol = 2)"},{"path":"https://generable.github.io/bmstate/articles/math.html","id":"likelihood-formula","dir":"Articles","previous_headings":"Likelihood evaluation","what":"Likelihood formula","title":"Mathematical description of models in the bmstate package","text":"log likelihood path data (Kneib Hennerfeind 2008) logp(ùêÉMS‚à£Œ∏)=‚àë=1N‚àëk=1Ki‚àëh=1H[Œ¥k,(h)log(Œªi(h)(tk()‚à£Œ∏))‚àíIk,(h)‚à´tk‚àí1()tk()Œªi(h)(t‚à£Œ∏)dt]\\begin{equation} \\label{eq: mslik} \\log p(\\mathbf{D}_{\\textrm{MS}} \\mid \\theta) = \\sum_{=1}^{N} \\sum_{k=1}^{K_i}\\sum_{h=1}^H\\left[\\delta_{k,}^{(h)}\\log\\left(\\lambda_i^{(h)}(t^{()}_k \\mid \\theta) \\right) - \\text{}_{k,}^{(h)} \\int_{t^{()}_{k-1}}^{t^{()}_{k}} \\lambda_i^{(h)}(t \\mid \\theta) \\text{d}t \\right] \\end{equation} Œ∏={Œ∏0,Œ≤}\\theta = \\{\\theta_0, \\beta\\} contains baseline hazard parameters Œ∏0\\theta_0 regression coefficients Œ≤\\beta.","code":""},{"path":"https://generable.github.io/bmstate/articles/math.html","id":"numerical-integration","dir":"Articles","previous_headings":"Likelihood evaluation","what":"Numerical integration","title":"Mathematical description of models in the bmstate package","text":"package relies numerical integration hazard functions evaluate likelihood. integration step size max time divided number grid points, can check . demonstrate integration grid example hazard function.","code":"delta_grid <- mod$get_tmax() / mod$get_n_grid() a <- c(delta_grid, sd$delta_grid) names(a) <- c(\"expected delta_grid\", \"found delta_grid\") print(a) #> expected delta_grid    found delta_grid  #>            83.33333            83.33333 w <- c(0.2, 0.3, 0.5, -0.5, 0, 0.1) h0 <- 0.001 plot_stan_data_integral(mod, sd, 1, h0, w) # first interval plot_stan_data_integral(mod, sd, 2, h0, w) # second interval"},{"path":"https://generable.github.io/bmstate/articles/math.html","id":"state-visit-risk-prediction","dir":"Articles","previous_headings":"","what":"State visit risk prediction","title":"Mathematical description of models in the bmstate package","text":"often ultimately want model able predict, given subject, probability particular state visited least time tt, given initial state s0s_0 time t0t_0. denote probability P(s‚à£t,s0,t0)P(s \\mid t, s_0, t_0).","code":""},{"path":"https://generable.github.io/bmstate/articles/math.html","id":"path-generation","dir":"Articles","previous_headings":"State visit risk prediction","what":"Path generation","title":"Mathematical description of models in the bmstate package","text":"subject, need part training data, can generate number state paths starting s0s_0 time t0t_0. can done via generate_paths() function. drawing arrival times non-homogeneous Poisson process path generation, use thinning algorithm (Lewis Shedler 1979). probability P(s‚à£t,s0,t0)P(s \\mid t, s_0, t_0) can estimated proportion paths ss visited time tt. can done via function p_state_visit_per_subject().","code":""},{"path":[]},{"path":"https://generable.github.io/bmstate/articles/math.html","id":"generator-matrix","dir":"Articles","previous_headings":"State visit risk prediction > Kolmogorov forward equations","what":"Generator matrix","title":"Mathematical description of models in the bmstate package","text":"transition matrix multistate model self-loops, continuous-time Markov process (Norris 1997). special case, can define generator matrix ùêê(t)=[qjk(t)]\\mathbf{Q}(t) = [q_{jk}(t)], qkj(t)q_{kj}(t) called transition rate state kk state jj. transition rate k‚â†jk \\neq j 00 corresponding transition possible, otherwise given corresponding hazard function. Additionally, qkk(t)=‚àí‚àëj‚â†kqkj(t)\\begin{equation} q_{kk}(t) = -\\sum_{j \\neq k} q_{kj}(t) \\end{equation} diagonal values k‚àà1,‚Ä¶,Sk \\{1, \\ldots, S}.","code":""},{"path":"https://generable.github.io/bmstate/articles/math.html","id":"transition-probability-matrix","dir":"Articles","previous_headings":"State visit risk prediction > Kolmogorov forward equations","what":"Transition probability matrix","title":"Mathematical description of models in the bmstate package","text":"also define transition probability matrix ùêèt0(t)\\mathbf{P}_{t_0}(t), element iith row jjth column probability process state jj time tt, given started state ii time t0t_0. Kolmogorov forward equations ddtùêèt0(t)=ùêèt0(t)ùêê(t),\\begin{equation} \\frac{\\text{d}}{\\text{d}t} \\mathbf{P}_{t_0}(t) = \\mathbf{P}_{t_0}(t) \\mathbf{Q}(t), \\end{equation} can solve ùêèt0(t)\\mathbf{P}_{t_0}(t) using initial condition ùêèt0(t0)=\\mathbf{P}_{t_0}(t_0) = .","code":""},{"path":"https://generable.github.io/bmstate/articles/math.html","id":"state-occupancy-probability","dir":"Articles","previous_headings":"State visit risk prediction > Kolmogorov forward equations","what":"State occupancy probability","title":"Mathematical description of models in the bmstate package","text":"function p_state_occupancy() can used compute, set output times tendt_{\\mathrm{end}}, probability subject occupies certain state ss given state s0s_0 initial time. terminal states, state occupancy probability time tt state visit probability P(s‚à£t,s0,t0)P(s \\mid t, s_0, t_0).","code":""},{"path":"https://generable.github.io/bmstate/articles/math.html","id":"examples-of-multistate-models","dir":"Articles","previous_headings":"","what":"Examples of multistate models","title":"Mathematical description of models in the bmstate package","text":"section, illustrate common multistate models.","code":"N_sub <- 1000  # Plot event time distribution plot_time_dist <- function(t) {   checkmate::assert_numeric(t)   ggplot(data.frame(Time = t), aes(x = .data$Time)) +     ggdist::stat_halfeye() +     geom_vline(       mapping = NULL,       xintercept = mean(t),       color = \"gray20\",       lty = 2     ) }"},{"path":"https://generable.github.io/bmstate/articles/math.html","id":"basic-survival-model","dir":"Articles","previous_headings":"Examples of multistate models","what":"Basic survival model","title":"Mathematical description of models in the bmstate package","text":"basic survival model can seen multistate model two states: Alive Dead. death event corresponds transitioning state Alive terminal state Dead. First create TransitionMatrix. transition matrix directed graph encoded binary matrix.  create MultistateModel using graph. Now can simulate death events known constant hazard rate lambda. model, event times follow exponential distribution mean 1Œª\\frac{1}{\\lambda}.   plot distribution event times (.e., transition times) theoretical mean (red line).  generate paths lower hazard can get censored follow-ends. compute risk death based paths ensure correct, comparing two different analytic implementations solving transition probability matrix.","code":"tm <- transmat_survival() s <- tm$states print(tm) #>       Alive Dead #> Alive     0    1 #> Dead      0    0 tm$plot() tmax <- 3 * 365.25 mod <- create_msm(tm, t_max = tmax) print(mod) #> A MultistateModel with: #>  - Hazard covariates: {} #>  #> A MultistateSystem with: #>  - States: {Alive, Dead} #>  - Number of spline knots: 5 lambda <- 1e-2 pd <- mod$simulate_data(N_sub, w0 = lambda) #> Generating 1000 paths pd$paths$plot_paths() pd$paths$plot_graph() times <- pd$paths$transition_times() plot_time_dist(times) + geom_vline(xintercept = 1 / lambda, color = \"firebrick\") # 1) This is the general way using the package solve_p <- function(mod, lambda) {   tt <- c(0, mod$system$get_tmax())   P <- solve_trans_prob_matrix(mod$system, t_out = tt, log_w0 = log(lambda))   P[2, 1, ] }  # 2) This is a special case which can be used if the baseline hazards are constant, # currently not in the package but we use it to validate that we get the # Same result solve_P_consthaz <- function(mod, h0) {   Q_true <- mod$system$intensity_matrix(mod$system$get_tmax(), log(h0))   Matrix::expm(Q_true * mod$system$get_tmax()) }  lambda <- 1e-3 pd <- mod$simulate_data(N_sub, w0 = lambda) #> Generating 1000 paths p <- solve_p(mod, lambda) P <- solve_P_consthaz(mod, lambda) r <- c(p_state_visit(pd$paths)$prob, p[2], P[1, 2]) names(r) <- c(\"Paths\", \"Analytic1\", \"Analytic2\") print(r) #>     Paths Analytic1 Analytic2  #> 0.6500000 0.6657109 0.6657112"},{"path":"https://generable.github.io/bmstate/articles/math.html","id":"competing-risks-model","dir":"Articles","previous_headings":"Examples of multistate models","what":"Competing risks model","title":"Mathematical description of models in the bmstate package","text":"transition matrix competing risks model can created like .  model 3 possible transitions. Now can simulate transition times known constant hazard rates lambda_1, lambda_2, lambda_3. Simulating transition times mathematically equivalent simulating independent homogeneous Poisson processes rates Œªi\\lambda_i, taking transition occurred first. means transition probabilities P()=Œªi‚àëj=13Œªj. P() = \\frac{\\lambda_i}{\\sum_{j=1}^ 3 \\lambda_j}.   distribution event times exponentially distributed mean 1Œª0\\frac{1}{\\lambda_0} Œª0=‚àëj=13Œªj \\lambda_0 = \\sum_{j=1}^ 3 \\lambda_j  combined hazard rate. plot empirical distribution theoretical mean (red line).  generate paths lower hazard can get censored follow-ends. compute probability different terminal states end follow based paths ensure correct.","code":"tm <- transmat_comprisk() print(tm) #>   A B C D #> A 0 1 1 1 #> B 0 0 0 0 #> C 0 0 0 0 #> D 0 0 0 0 tm$plot() mod <- create_msm(tm, t_max = tmax) lambda <- 1e-2 w0 <- c(lambda, 2 * lambda, 3 * lambda) print(w0 / sum(w0)) #> [1] 0.1666667 0.3333333 0.5000000 pd <- mod$simulate_data(N_sub, w0 = w0) #> Generating 1000 paths pd$paths$plot_paths() pd$paths$plot_graph() times <- pd$paths$as_transitions(truncate = TRUE)$time plot_time_dist(times) + geom_vline(xintercept = 1 / sum(w0), color = \"firebrick\") pd <- mod$simulate_data(N_sub, w0 = 0.01 * w0) #> Generating 1000 paths p <- solve_p(mod, 0.01 * w0) P <- solve_P_consthaz(mod, 0.01 * w0) r <- rbind(p_state_visit(pd$paths)$prob, p[2:4], P[1, 2:4]) rownames(r) <- c(\"Paths\", \"Analytic1\", \"Analytic2\") colnames(r) <- paste0(\"P(state = \", colnames(r), \")\") print(r) #>           P(state = B) P(state = C) P(state = D) #> Paths       0.08100000    0.1440000    0.2380000 #> Analytic1   0.08030481    0.1606096    0.2409144 #> Analytic2   0.08030484    0.1606097    0.2409145"},{"path":"https://generable.github.io/bmstate/articles/math.html","id":"illness-death-model","dir":"Articles","previous_headings":"Examples of multistate models","what":"Illness-death model","title":"Mathematical description of models in the bmstate package","text":"illness-death model another common multistate model.    generate paths lower hazard can get censored follow-ends. compute probability death end follow based paths ensure correct.","code":"tm <- transmat_illnessdeath() print(tm) #>          Healthy Diseased Dead #> Healthy        0        1    1 #> Diseased       0        0    1 #> Dead           0        0    0 tm$plot() mod <- create_msm(tm) w0 <- 1e-2 pd <- mod$simulate_data(N_sub, w0 = w0) #> Generating 1000 paths pd$paths$plot_paths() pd$paths$plot_graph() h0_true <- 0.5 * 1e-3 h0_true_vec <- rep(h0_true, 3) h0_true_vec[2] <- 0.1 * h0_true h0_true_vec[3] <- 5 * h0_true pd <- mod$simulate_data(N_sub, w0 = h0_true_vec) #> Generating 1000 paths p <- solve_p(mod, h0_true_vec) P_true <- solve_P_consthaz(mod, h0_true_vec) p_death1 <- p_state_visit(pd$paths)$prob[2] p_death2 <- p[3] p_death3 <- P_true[1, 3] r <- c(p_death1, p_death2, p_death3)  names(r) <- c(\"Paths\", \"Analytic\", \"Analytic2\") print(r) #>     Paths  Analytic Analytic2  #> 0.3110000 0.2961619 0.2961618"},{"path":"https://generable.github.io/bmstate/articles/math.html","id":"diamond-model","dir":"Articles","previous_headings":"Examples of multistate models","what":"Diamond model","title":"Mathematical description of models in the bmstate package","text":"model complex multistate model.    generate paths lower hazard can get censored follow-ends. compute probability death end follow based paths ensure correct.","code":"tm <- transmat_diamond() print(tm) #>   A B C D #> A 0 1 1 1 #> B 0 0 1 1 #> C 0 1 0 1 #> D 0 0 0 0 tm$plot() mod <- create_msm(tm) w0 <- 1e-2 pd <- mod$simulate_data(N_sub, w0 = w0) #> Generating 1000 paths pd$paths$plot_paths() pd$paths$plot_graph() h0_true <- 0.5 * 1e-3 h0_true_vec <- rep(h0_true, 7) h0_true_vec[3] <- 0.1 * h0_true h0_true_vec[5] <- 5 * h0_true h0_true_vec[7] <- 20 * h0_true  P_true <- solve_P_consthaz(mod, h0_true_vec) p_death3 <- P_true[1, 4] w0 <- h0_true_vec pd <- mod$simulate_data(N_sub, w0 = w0) #> Generating 1000 paths p <- solve_p(mod, w0) p_death1 <- p_state_visit(pd$paths)$prob[3] p_death2 <- p[4] r <- c(p_death1, p_death2, p_death3) names(r) <- c(\"Paths\", \"Analytic\", \"Analytic2\") print(r) #>     Paths  Analytic Analytic2  #> 0.5270000 0.5459059 0.5459058"},{"path":"https://generable.github.io/bmstate/articles/math.html","id":"general-multistate-models","dir":"Articles","previous_headings":"Examples of multistate models","what":"General multistate models","title":"Mathematical description of models in the bmstate package","text":"General multistate models can multiple terminal states various transitions.    paths may reach terminal state t_max, meaning get censored.","code":"tm <- transmat_full(state_names = LETTERS[1:5], sources = 1, terminal = c(4, 5)) print(tm) #>   A B C D E #> A 0 1 1 1 1 #> B 0 1 1 1 1 #> C 0 1 1 1 1 #> D 0 0 0 0 0 #> E 0 0 0 0 0 tm$plot() mod <- create_msm(tm) pd <- mod$simulate_data(N_sub, w0 = 1e-3) #> Generating 1000 paths pd$paths$plot_paths() pd$paths$plot_graph() pd$paths$prop_matrix() #>     to #> from         A         B         C         D         E  no event #>    A 0.0000000 0.2600000 0.2550000 0.2380000 0.2330000 0.0140000 #>    B 0.0000000 0.2339545 0.2091097 0.2070393 0.2111801 0.1387164 #>    C 0.0000000 0.2412281 0.2192982 0.1973684 0.2302632 0.1118421 #>    D 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000 1.0000000 #>    E 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000 1.0000000"},{"path":[]},{"path":"https://generable.github.io/bmstate/articles/survival.html","id":"simulating-data","dir":"Articles","previous_headings":"","what":"Simulating data","title":"Survival data analysis with the bmstate package","text":"setup definition true baseline hazard. create model plot true baseline hazard. red lines knot locations used data simulation.  simulate subjects events data.","code":"tmax <- 10 h0_true <- 0.1 # true baseline hazard intercept num_knots <- 4 w <- matrix(c(-1, -1, 2, 1, 1), 1, num_knots + 1) # true spline weights beta_age_true <- 0.5 # true effect size of age mod <- create_msm(transmat_survival(),   hazard_covs = \"age\",   t_max = tmax,   num_knots = num_knots ) tt <- seq(0, tmax, length.out = 100) log_h <- mod$system$log_baseline_hazard(tt, log(h0_true), w[1, ]) df_h <- data.frame(time = tt, h0_true = exp(log_h)) ggplot(df_h, aes(x = time, y = h0_true)) +   geom_line() +   labs(x = \"Time\", y = \"Baseline hazard\") +   geom_vline(     xintercept = mod$get_knots(),     lty = 2, color = \"firebrick\"   ) +   ggtitle(\"True baseline hazard\") set.seed(123) simdat <- mod$simulate_data(   w0 = h0_true, beta_haz = matrix(beta_age_true),   w = w ) #> Generating 100 paths simdat$paths$plot_graph()"},{"path":"https://generable.github.io/bmstate/articles/survival.html","id":"model-setup-setting-knot-locations","dir":"Articles","previous_headings":"","what":"Model setup: Setting knot locations","title":"Survival data analysis with the bmstate package","text":"set spline knot locations based quantiles observed event times.","code":"event_times <- simdat$paths$transition_times() mod$set_knots(t_max = tmax, t_event = event_times, num_knots = 4) mod$get_knots() #> [1]  0.000000  2.531165  3.700404 10.000000"},{"path":"https://generable.github.io/bmstate/articles/survival.html","id":"fitting-a-model","dir":"Articles","previous_headings":"","what":"Fitting a model","title":"Survival data analysis with the bmstate package","text":"","code":"fit <- fit_stan(mod, simdat,   chains = 1, adapt_delta = 0.975,   iter_warmup = 600,   iter_sampling = 200 ) #> Using stan file at /home/runner/work/_temp/Library/bmstate/stan/msm.stan #> Running MCMC with 1 chain... #>  #> Chain 1 Iteration:   1 / 800 [  0%]  (Warmup)  #> Chain 1 Iteration: 100 / 800 [ 12%]  (Warmup)  #> Chain 1 Iteration: 200 / 800 [ 25%]  (Warmup)  #> Chain 1 Iteration: 300 / 800 [ 37%]  (Warmup)  #> Chain 1 Iteration: 400 / 800 [ 50%]  (Warmup)  #> Chain 1 Iteration: 500 / 800 [ 62%]  (Warmup)  #> Chain 1 Iteration: 600 / 800 [ 75%]  (Warmup)  #> Chain 1 Iteration: 601 / 800 [ 75%]  (Sampling)  #> Chain 1 Iteration: 700 / 800 [ 87%]  (Sampling)  #> Chain 1 Iteration: 800 / 800 [100%]  (Sampling)  #> Chain 1 finished in 7.5 seconds."},{"path":"https://generable.github.io/bmstate/articles/survival.html","id":"sampling-diagnostics","dir":"Articles","previous_headings":"","what":"Sampling diagnostics","title":"Survival data analysis with the bmstate package","text":"","code":"print(fit$info$diag) #> $num_divergent #> [1] 0 #>  #> $num_max_treedepth #> [1] 0 #>  #> $ebfmi #> [1] 0.7357373 print(max(fit$info$summary$rhat)) #> [1] 1.016208"},{"path":"https://generable.github.io/bmstate/articles/survival.html","id":"inferred-baseline-hazard","dir":"Articles","previous_headings":"","what":"Inferred baseline hazard","title":"Survival data analysis with the bmstate package","text":"plot inferred baseline hazard distribution true baseline hazard (dashed line).","code":"fit$plot_h0() + geom_line(df_h,   mapping = aes(x = time, y = h0_true), inherit.aes = FALSE,   lty = 2 )"},{"path":"https://generable.github.io/bmstate/articles/survival.html","id":"inferred-covariate-effect","dir":"Articles","previous_headings":"","what":"Inferred covariate effect","title":"Survival data analysis with the bmstate package","text":"","code":"df_beta <- fit$covariate_effects() df_beta #>   covariate        beta target_state_idx target_state #> 1       age 0.41 ¬± 0.11                2         Dead"},{"path":"https://generable.github.io/bmstate/articles/survival.html","id":"state-occupancy-probabilities","dir":"Articles","previous_headings":"","what":"State occupancy probabilities","title":"Survival data analysis with the bmstate package","text":"","code":"mfit <- fit$mean_fit() # use point estimate for speed here p <- p_state_occupancy(mfit) #> Recompiling Stan model #> Using stan file at /home/runner/work/_temp/Library/bmstate/stan/msm.stan #> calling solve_trans_prob_matrix 100 x 1 times p <- p |> dplyr::left_join(fit$data$paths$subject_df, by = \"subject_id\") ggplot(p, aes(   x = .data$time, group = .data$subject_id, y = mean(.data$prob),   color = .data$age )) +   facet_wrap(. ~ .data$state) +   geom_line() +   ylab(\"State probability\") +   scale_color_viridis_c()"},{"path":"https://generable.github.io/bmstate/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Juho Timonen. Author, maintainer. Jacqueline Buros. Contributor. Generable. Copyright holder, funder.","code":""},{"path":"https://generable.github.io/bmstate/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Timonen J (2025). bmstate: Bayesian multistate modeling. R package version 0.2.9, https://generable.github.io/bmstate/.","code":"@Manual{,   title = {bmstate: Bayesian multistate modeling},   author = {Juho Timonen},   year = {2025},   note = {R package version 0.2.9},   url = {https://generable.github.io/bmstate/}, }"},{"path":"https://generable.github.io/bmstate/index.html","id":"bmstate","dir":"","previous_headings":"","what":"Bayesian multistate modeling","title":"Bayesian multistate modeling","text":"R package Bayesian multistate modeling.","code":""},{"path":"https://generable.github.io/bmstate/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Bayesian multistate modeling","text":"Install cmdstanr following instructions . Install bmstate using Building vignettes can take time, consider using build_vignettes = FALSE. Use ref = \"develop\" want current development version.","code":"remotes::install_github(\"generable/bmstate\", ref = \"main\", build_vignettes = TRUE)"},{"path":"https://generable.github.io/bmstate/index.html","id":"getting-started","dir":"","previous_headings":"","what":"Getting started","title":"Bayesian multistate modeling","text":"info documentation, can view See also vignettes.","code":"library(bmstate) ?bmstate"},{"path":[]},{"path":"https://generable.github.io/bmstate/index.html","id":"versioning","dir":"","previous_headings":"Development","what":"Versioning","title":"Bayesian multistate modeling","text":"package mostly conforms semantic versioning. version number format MAJOR.MINOR.PATCH, MAJOR incremented incompatible API changes made MINOR version incremented significant new functionality added PATCH version incremented making small bug fixes, minor new functionality, improved documentation new improved vignettes version update can done usethis::use_version().","code":""},{"path":"https://generable.github.io/bmstate/index.html","id":"development-branches","dir":"","previous_headings":"Development","what":"Development branches","title":"Bayesian multistate modeling","text":"starting new feature bug fix, create branch develop branch. version develop branch something like MAJOR.MINOR.PATCH.9000 MAJOR.MINOR.PATCH version exists main branch. increment can done usethis::use_dev_version(). finishing edits, create PR develop. develop branch merged main, patch version incremented. Also, make sure run styler::style_dir() package root directory. devtools::document() R CMD check","code":""},{"path":"https://generable.github.io/bmstate/index.html","id":"known-notes-in-r-cmd-check","dir":"","previous_headings":"Development","what":"Known NOTEs in R CMD check","title":"Bayesian multistate modeling","text":"exported Stan functions seem bindings R code errors warnings.","code":"Undefined global functions or variables:      compute_log_hazard_multiplier compute_theta_pk      pop_2cpt_partly_ss_stage1 pop_2cpt_partly_ss_stage2 ‚ùØ checking package dependencies ... NOTE   Imports includes 22 non-default packages.   Importing from so many packages makes the package vulnerable to any of   them becoming unavailable.  Move as many as possible to Suggests and   use conditionally.  ‚ùØ checking for future file timestamps ... NOTE   unable to verify current time  ‚ùØ checking dependencies in R code ... NOTE   Namespaces in Imports field not imported from:     ‚ÄòMatrix‚Äô ‚Äòmsm‚Äô ‚Äòmstate‚Äô     All declared Imports should be used."},{"path":"https://generable.github.io/bmstate/reference/DosingData.html","id":null,"dir":"Reference","previous_headings":"","what":"Dosing data class (R6 class) ‚Äî DosingData","title":"Dosing data class (R6 class) ‚Äî DosingData","text":"Contains information taken doses dose times.","code":""},{"path":"https://generable.github.io/bmstate/reference/DosingData.html","id":"public-fields","dir":"Reference","previous_headings":"","what":"Public fields","title":"Dosing data class (R6 class) ‚Äî DosingData","text":"subject_ids Subject ids.","code":""},{"path":[]},{"path":"https://generable.github.io/bmstate/reference/DosingData.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Dosing data class (R6 class) ‚Äî DosingData","text":"DosingData$set_sub_ids() DosingData$print() DosingData$num_subjects() DosingData$clone()","code":""},{"path":"https://generable.github.io/bmstate/reference/DosingData.html","id":"method-set-sub-ids-","dir":"Reference","previous_headings":"","what":"Method set_sub_ids()","title":"Dosing data class (R6 class) ‚Äî DosingData","text":"Initialize","code":""},{"path":"https://generable.github.io/bmstate/reference/DosingData.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Dosing data class (R6 class) ‚Äî DosingData","text":"","code":"DosingData$set_sub_ids(subject_ids)"},{"path":"https://generable.github.io/bmstate/reference/DosingData.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Dosing data class (R6 class) ‚Äî DosingData","text":"subject_ids character vector","code":""},{"path":"https://generable.github.io/bmstate/reference/DosingData.html","id":"method-print-","dir":"Reference","previous_headings":"","what":"Method print()","title":"Dosing data class (R6 class) ‚Äî DosingData","text":"Print info","code":""},{"path":"https://generable.github.io/bmstate/reference/DosingData.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Dosing data class (R6 class) ‚Äî DosingData","text":"","code":"DosingData$print()"},{"path":"https://generable.github.io/bmstate/reference/DosingData.html","id":"method-num-subjects-","dir":"Reference","previous_headings":"","what":"Method num_subjects()","title":"Dosing data class (R6 class) ‚Äî DosingData","text":"Get number subjects","code":""},{"path":"https://generable.github.io/bmstate/reference/DosingData.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Dosing data class (R6 class) ‚Äî DosingData","text":"","code":"DosingData$num_subjects()"},{"path":"https://generable.github.io/bmstate/reference/DosingData.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Dosing data class (R6 class) ‚Äî DosingData","text":"objects class cloneable method.","code":""},{"path":"https://generable.github.io/bmstate/reference/DosingData.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Dosing data class (R6 class) ‚Äî DosingData","text":"","code":"DosingData$clone(deep = FALSE)"},{"path":"https://generable.github.io/bmstate/reference/DosingData.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Dosing data class (R6 class) ‚Äî DosingData","text":"deep Whether make deep clone.","code":""},{"path":"https://generable.github.io/bmstate/reference/JointData.html","id":null,"dir":"Reference","previous_headings":"","what":"Joint data class (R6 class) ‚Äî JointData","title":"Joint data class (R6 class) ‚Äî JointData","text":"Contains data state paths dosing.","code":""},{"path":"https://generable.github.io/bmstate/reference/JointData.html","id":"public-fields","dir":"Reference","previous_headings":"","what":"Public fields","title":"Joint data class (R6 class) ‚Äî JointData","text":"paths events data, object class PathData. dosing dosing data, object class DosingData.","code":""},{"path":[]},{"path":"https://generable.github.io/bmstate/reference/JointData.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Joint data class (R6 class) ‚Äî JointData","text":"JointData$new() JointData$filter() JointData$print() JointData$plot_dosing() JointData$clone()","code":""},{"path":"https://generable.github.io/bmstate/reference/JointData.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"Joint data class (R6 class) ‚Äî JointData","text":"Initialize","code":""},{"path":"https://generable.github.io/bmstate/reference/JointData.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Joint data class (R6 class) ‚Äî JointData","text":"","code":"JointData$new(paths, dosing)"},{"path":"https://generable.github.io/bmstate/reference/JointData.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Joint data class (R6 class) ‚Äî JointData","text":"paths events data, object class PathData. dosing dosing data, object class DosingData. Can also NULL.","code":""},{"path":"https://generable.github.io/bmstate/reference/JointData.html","id":"method-filter-","dir":"Reference","previous_headings":"","what":"Method filter()","title":"Joint data class (R6 class) ‚Äî JointData","text":"Filter subjects, creates new object","code":""},{"path":"https://generable.github.io/bmstate/reference/JointData.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Joint data class (R6 class) ‚Äî JointData","text":"","code":"JointData$filter(subject_ids_keep)"},{"path":"https://generable.github.io/bmstate/reference/JointData.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Joint data class (R6 class) ‚Äî JointData","text":"subject_ids_keep Subjects keep","code":""},{"path":"https://generable.github.io/bmstate/reference/JointData.html","id":"method-print-","dir":"Reference","previous_headings":"","what":"Method print()","title":"Joint data class (R6 class) ‚Äî JointData","text":"Print info","code":""},{"path":"https://generable.github.io/bmstate/reference/JointData.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Joint data class (R6 class) ‚Äî JointData","text":"","code":"JointData$print()"},{"path":"https://generable.github.io/bmstate/reference/JointData.html","id":"method-plot-dosing-","dir":"Reference","previous_headings":"","what":"Method plot_dosing()","title":"Joint data class (R6 class) ‚Äî JointData","text":"Plot dosing","code":""},{"path":"https://generable.github.io/bmstate/reference/JointData.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Joint data class (R6 class) ‚Äî JointData","text":"","code":"JointData$plot_dosing(df_fit = NULL, max_num_subjects = 12, subject_ids = NULL)"},{"path":"https://generable.github.io/bmstate/reference/JointData.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"Joint data class (R6 class) ‚Äî JointData","text":"df_fit Fit data frame. max_num_subjects Max number subjects plot. subject_ids subjects plot?","code":""},{"path":"https://generable.github.io/bmstate/reference/JointData.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"Joint data class (R6 class) ‚Äî JointData","text":"ggplot","code":""},{"path":"https://generable.github.io/bmstate/reference/JointData.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Joint data class (R6 class) ‚Äî JointData","text":"objects class cloneable method.","code":""},{"path":"https://generable.github.io/bmstate/reference/JointData.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"Joint data class (R6 class) ‚Äî JointData","text":"","code":"JointData$clone(deep = FALSE)"},{"path":"https://generable.github.io/bmstate/reference/JointData.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"Joint data class (R6 class) ‚Äî JointData","text":"deep Whether make deep clone.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":null,"dir":"Reference","previous_headings":"","what":"Main model class ‚Äî MultistateModel","title":"Main model class ‚Äî MultistateModel","text":"Class represents multistate model.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"public-fields","dir":"Reference","previous_headings":"","what":"Public fields","title":"Main model class ‚Äî MultistateModel","text":"system MultistateSystem pk_model PKModel NULL. prior_only model ignore likelihood? pk_only model ignore entire hazard model part?","code":""},{"path":[]},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Main model class ‚Äî MultistateModel","text":"MultistateModel$get_normalizers() MultistateModel$get_n_grid() MultistateModel$set_normalizers() MultistateModel$get_auc_normalizers() MultistateModel$set_auc_normalizers() MultistateModel$get_prior_mean_h0() MultistateModel$set_prior_mean_h0() MultistateModel$set_prior_mean_h0_data() MultistateModel$new() MultistateModel$set_knots() MultistateModel$get_knots() MultistateModel$get_tmax() MultistateModel$get_states() MultistateModel$has_pk() MultistateModel$print() MultistateModel$covs() MultistateModel$data_covs() MultistateModel$categ_covs() MultistateModel$simulate_subjects() MultistateModel$simulate_data() MultistateModel$target_states() MultistateModel$clone()","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"method-get-normalizers-","dir":"Reference","previous_headings":"","what":"Method get_normalizers()","title":"Main model class ‚Äî MultistateModel","text":"Get normalization constants variable","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Main model class ‚Äî MultistateModel","text":"","code":"MultistateModel$get_normalizers()"},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"Main model class ‚Äî MultistateModel","text":"list","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"method-get-n-grid-","dir":"Reference","previous_headings":"","what":"Method get_n_grid()","title":"Main model class ‚Äî MultistateModel","text":"Get number grid points used integration.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Main model class ‚Äî MultistateModel","text":"","code":"MultistateModel$get_n_grid()"},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"Main model class ‚Äî MultistateModel","text":"integer","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"method-set-normalizers-","dir":"Reference","previous_headings":"","what":"Method set_normalizers()","title":"Main model class ‚Äî MultistateModel","text":"Set normalization constant variable (side effect)","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Main model class ‚Äî MultistateModel","text":"","code":"MultistateModel$set_normalizers(data)"},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Main model class ‚Äî MultistateModel","text":"data JointData object","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"method-get-auc-normalizers-","dir":"Reference","previous_headings":"","what":"Method get_auc_normalizers()","title":"Main model class ‚Äî MultistateModel","text":"Get normalization constants AUC (PK)","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Main model class ‚Äî MultistateModel","text":"","code":"MultistateModel$get_auc_normalizers()"},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"returns-2","dir":"Reference","previous_headings":"","what":"Returns","title":"Main model class ‚Äî MultistateModel","text":"list","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"method-set-auc-normalizers-","dir":"Reference","previous_headings":"","what":"Method set_auc_normalizers()","title":"Main model class ‚Äî MultistateModel","text":"Set normalization constants AUC (side effect)","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"Main model class ‚Äî MultistateModel","text":"","code":"MultistateModel$set_auc_normalizers(loc = 0, scale = 1)"},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Main model class ‚Äî MultistateModel","text":"loc Location scale Scale","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"method-get-prior-mean-h-","dir":"Reference","previous_headings":"","what":"Method get_prior_mean_h0()","title":"Main model class ‚Äî MultistateModel","text":"Get assumed prior mean baseline hazard rates.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"Main model class ‚Äî MultistateModel","text":"","code":"MultistateModel$get_prior_mean_h0()"},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"returns-3","dir":"Reference","previous_headings":"","what":"Returns","title":"Main model class ‚Äî MultistateModel","text":"Numeric vector length equal number transitions","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"method-set-prior-mean-h-","dir":"Reference","previous_headings":"","what":"Method set_prior_mean_h0()","title":"Main model class ‚Äî MultistateModel","text":"Set assumed prior mean baseline hazard rates (side effect).","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"Main model class ‚Äî MultistateModel","text":"","code":"MultistateModel$set_prior_mean_h0(mean_h0)"},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"Main model class ‚Äî MultistateModel","text":"mean_h0 Numeric vector length equal number transitions","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"method-set-prior-mean-h-data-","dir":"Reference","previous_headings":"","what":"Method set_prior_mean_h0_data()","title":"Main model class ‚Äî MultistateModel","text":"Set assumed prior mean baseline hazard rates (side effect) based average hazards data.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"Main model class ‚Äî MultistateModel","text":"","code":"MultistateModel$set_prior_mean_h0_data(data)"},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"Main model class ‚Äî MultistateModel","text":"data JointData PathData object.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"Main model class ‚Äî MultistateModel","text":"Create model","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"usage-8","dir":"Reference","previous_headings":"","what":"Usage","title":"Main model class ‚Äî MultistateModel","text":"","code":"MultistateModel$new(   system,   covariates = NULL,   pk_model = NULL,   t_max = 1000,   num_knots = 5,   categorical = NULL,   n_grid = 1000,   prior_only = FALSE,   pk_only = FALSE )"},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"Main model class ‚Äî MultistateModel","text":"system MultistateSystem covariates names hazard covariates (excluding possible exposure estimated PK model). use reserved names ss_auc dose. pk_model PKModel NULL. t_max Max time. num_knots Total number spline knots. categorical Names covariates binary. effect simulating data. fitting model, covariates treated continuous, use binary encoding categories two. n_grid Number time discretization points integrating prior_only model ignore likelihood? pk_only model ignore entire hazard model part? hazards.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"method-set-knots-","dir":"Reference","previous_headings":"","what":"Method set_knots()","title":"Main model class ‚Äî MultistateModel","text":"Set knot locations based event times knots define spline basis functions set.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"usage-9","dir":"Reference","previous_headings":"","what":"Usage","title":"Main model class ‚Äî MultistateModel","text":"","code":"MultistateModel$set_knots(t_max, t_event, num_knots)"},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"arguments-5","dir":"Reference","previous_headings":"","what":"Arguments","title":"Main model class ‚Äî MultistateModel","text":"t_max Max time t_event Occurred event times num_knots Total number knots. Includes boundary knots. Number spline basis functions num_knots + 1.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"method-get-knots-","dir":"Reference","previous_headings":"","what":"Method get_knots()","title":"Main model class ‚Äî MultistateModel","text":"Get knots","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"usage-10","dir":"Reference","previous_headings":"","what":"Usage","title":"Main model class ‚Äî MultistateModel","text":"","code":"MultistateModel$get_knots()"},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"method-get-tmax-","dir":"Reference","previous_headings":"","what":"Method get_tmax()","title":"Main model class ‚Äî MultistateModel","text":"Get max time","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"usage-11","dir":"Reference","previous_headings":"","what":"Usage","title":"Main model class ‚Äî MultistateModel","text":"","code":"MultistateModel$get_tmax()"},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"method-get-states-","dir":"Reference","previous_headings":"","what":"Method get_states()","title":"Main model class ‚Äî MultistateModel","text":"Get names states","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"usage-12","dir":"Reference","previous_headings":"","what":"Usage","title":"Main model class ‚Äî MultistateModel","text":"","code":"MultistateModel$get_states()"},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"method-has-pk-","dir":"Reference","previous_headings":"","what":"Method has_pk()","title":"Main model class ‚Äî MultistateModel","text":"PK submodel?","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"usage-13","dir":"Reference","previous_headings":"","what":"Usage","title":"Main model class ‚Äî MultistateModel","text":"","code":"MultistateModel$has_pk()"},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"method-print-","dir":"Reference","previous_headings":"","what":"Method print()","title":"Main model class ‚Äî MultistateModel","text":"Print object","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"usage-14","dir":"Reference","previous_headings":"","what":"Usage","title":"Main model class ‚Äî MultistateModel","text":"","code":"MultistateModel$print()"},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"returns-4","dir":"Reference","previous_headings":"","what":"Returns","title":"Main model class ‚Äî MultistateModel","text":"nothing","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"method-covs-","dir":"Reference","previous_headings":"","what":"Method covs()","title":"Main model class ‚Äî MultistateModel","text":"Get hazard covariates (including steady-state exposure PK model included)","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"usage-15","dir":"Reference","previous_headings":"","what":"Usage","title":"Main model class ‚Äî MultistateModel","text":"","code":"MultistateModel$covs()"},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"method-data-covs-","dir":"Reference","previous_headings":"","what":"Method data_covs()","title":"Main model class ‚Äî MultistateModel","text":"Get covariates need given data","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"usage-16","dir":"Reference","previous_headings":"","what":"Usage","title":"Main model class ‚Äî MultistateModel","text":"","code":"MultistateModel$data_covs(which = NULL)"},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"arguments-6","dir":"Reference","previous_headings":"","what":"Arguments","title":"Main model class ‚Äî MultistateModel","text":"subset get?","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"method-categ-covs-","dir":"Reference","previous_headings":"","what":"Method categ_covs()","title":"Main model class ‚Äî MultistateModel","text":"Get names categorical covariates","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"usage-17","dir":"Reference","previous_headings":"","what":"Usage","title":"Main model class ‚Äî MultistateModel","text":"","code":"MultistateModel$categ_covs()"},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"method-simulate-subjects-","dir":"Reference","previous_headings":"","what":"Method simulate_subjects()","title":"Main model class ‚Äî MultistateModel","text":"Simulate subject data, covariates independently.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"usage-18","dir":"Reference","previous_headings":"","what":"Usage","title":"Main model class ‚Äî MultistateModel","text":"","code":"MultistateModel$simulate_subjects(N_subject = 100, doses = c(15, 30, 60))"},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"arguments-7","dir":"Reference","previous_headings":"","what":"Arguments","title":"Main model class ‚Äî MultistateModel","text":"N_subject Number subjects. doses Possible doses.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"method-simulate-data-","dir":"Reference","previous_headings":"","what":"Method simulate_data()","title":"Main model class ‚Äî MultistateModel","text":"Simulate data using multistate model","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"usage-19","dir":"Reference","previous_headings":"","what":"Usage","title":"Main model class ‚Äî MultistateModel","text":"","code":"MultistateModel$simulate_data(   N_subject = 100,   beta_haz = NULL,   beta_pk = NULL,   w0 = 0.001,   w = NULL,   num_doses = 10,   subjects_df = NULL )"},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"arguments-8","dir":"Reference","previous_headings":"","what":"Arguments","title":"Main model class ‚Äî MultistateModel","text":"N_subject Number subjects. beta_haz Covariate effects transition type. matrix shape num_target_states x num_covs. NULL, data frame zeros used. beta_pk Covariate effects PK parameters. named list three elements, vector. element NULL, vector zeros used. w0 Baseline hazard rate transitions. w Spline weights. Matrix shape num_trans x num_weights. NULL, matrix zeros used. num_doses Average number doses taken subject. effect model PK submodel. subjects_df Subject data frame. NULL, simulated using simulate_subjects method.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"returns-5","dir":"Reference","previous_headings":"","what":"Returns","title":"Main model class ‚Äî MultistateModel","text":"JointData object.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"method-target-states-","dir":"Reference","previous_headings":"","what":"Method target_states()","title":"Main model class ‚Äî MultistateModel","text":"Get indices states source states","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"usage-20","dir":"Reference","previous_headings":"","what":"Usage","title":"Main model class ‚Äî MultistateModel","text":"","code":"MultistateModel$target_states()"},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"returns-6","dir":"Reference","previous_headings":"","what":"Returns","title":"Main model class ‚Äî MultistateModel","text":"integer","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Main model class ‚Äî MultistateModel","text":"objects class cloneable method.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"usage-21","dir":"Reference","previous_headings":"","what":"Usage","title":"Main model class ‚Äî MultistateModel","text":"","code":"MultistateModel$clone(deep = FALSE)"},{"path":"https://generable.github.io/bmstate/reference/MultiStateModel.html","id":"arguments-9","dir":"Reference","previous_headings":"","what":"Arguments","title":"Main model class ‚Äî MultistateModel","text":"deep Whether make deep clone.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":null,"dir":"Reference","previous_headings":"","what":"Minimal fit class ‚Äî MultistateModelFit","title":"Minimal fit class ‚Äî MultistateModelFit","text":"Class represents multistate model certain parameters parameter draws.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"public-fields","dir":"Reference","previous_headings":"","what":"Public fields","title":"Minimal fit class ‚Äî MultistateModelFit","text":"model MultistateModel data  JointData object info Fit info.","code":""},{"path":[]},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Minimal fit class ‚Äî MultistateModelFit","text":"MultistateModelFit$new() MultistateModelFit$is_pk_only() MultistateModelFit$assert_hazard_fit() MultistateModelFit$mean_fit() MultistateModelFit$is_point_estimate() MultistateModelFit$get_data() MultistateModelFit$draws_names() MultistateModelFit$get_draws() MultistateModelFit$get_draws_of() MultistateModelFit$print() MultistateModelFit$plot_basisfun() MultistateModelFit$simulate_pk() MultistateModelFit$plot_pk() MultistateModelFit$plot_h0() MultistateModelFit$h0_dist() MultistateModelFit$covariate_effects() MultistateModelFit$log_z_pars() MultistateModelFit$num_draws() MultistateModelFit$clone()","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"Minimal fit class ‚Äî MultistateModelFit","text":"Create model fit object","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Minimal fit class ‚Äî MultistateModelFit","text":"","code":"MultistateModelFit$new(data, stan_data, model, draws, info = NULL)"},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Minimal fit class ‚Äî MultistateModelFit","text":"data Data used create fit. stan_data used 'Stan' data list. model MultistateModel draws named list rvars. info Fit info.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"method-is-pk-only-","dir":"Reference","previous_headings":"","what":"Method is_pk_only()","title":"Minimal fit class ‚Äî MultistateModelFit","text":"PK-fit?","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Minimal fit class ‚Äî MultistateModelFit","text":"","code":"MultistateModelFit$is_pk_only()"},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"Minimal fit class ‚Äî MultistateModelFit","text":"logical","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"method-assert-hazard-fit-","dir":"Reference","previous_headings":"","what":"Method assert_hazard_fit()","title":"Minimal fit class ‚Äî MultistateModelFit","text":"Require fit PK-","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Minimal fit class ‚Äî MultistateModelFit","text":"","code":"MultistateModelFit$assert_hazard_fit()"},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"method-mean-fit-","dir":"Reference","previous_headings":"","what":"Method mean_fit()","title":"Minimal fit class ‚Äî MultistateModelFit","text":"Create reduced version single draw, corresponding mean original draws.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Minimal fit class ‚Äî MultistateModelFit","text":"","code":"MultistateModelFit$mean_fit()"},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"Minimal fit class ‚Äî MultistateModelFit","text":"new MultistateModelFit object.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"method-is-point-estimate-","dir":"Reference","previous_headings":"","what":"Method is_point_estimate()","title":"Minimal fit class ‚Äî MultistateModelFit","text":"Check fit point estimate","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"Minimal fit class ‚Äî MultistateModelFit","text":"","code":"MultistateModelFit$is_point_estimate()"},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"returns-2","dir":"Reference","previous_headings":"","what":"Returns","title":"Minimal fit class ‚Äî MultistateModelFit","text":"logical value","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"method-get-data-","dir":"Reference","previous_headings":"","what":"Method get_data()","title":"Minimal fit class ‚Äî MultistateModelFit","text":"Extract Stan data list","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"Minimal fit class ‚Äî MultistateModelFit","text":"","code":"MultistateModelFit$get_data()"},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"method-draws-names-","dir":"Reference","previous_headings":"","what":"Method draws_names()","title":"Minimal fit class ‚Äî MultistateModelFit","text":"Names draws list","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"Minimal fit class ‚Äî MultistateModelFit","text":"","code":"MultistateModelFit$draws_names()"},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"method-get-draws-","dir":"Reference","previous_headings":"","what":"Method get_draws()","title":"Minimal fit class ‚Äî MultistateModelFit","text":"Extract draws rvars","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"Minimal fit class ‚Äî MultistateModelFit","text":"","code":"MultistateModelFit$get_draws(name = NULL)"},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Minimal fit class ‚Äî MultistateModelFit","text":"name Param/quantity name","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"method-get-draws-of-","dir":"Reference","previous_headings":"","what":"Method get_draws_of()","title":"Minimal fit class ‚Äî MultistateModelFit","text":"Draws raw array shape Stan variable","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"usage-8","dir":"Reference","previous_headings":"","what":"Usage","title":"Minimal fit class ‚Äî MultistateModelFit","text":"","code":"MultistateModelFit$get_draws_of(name)"},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"Minimal fit class ‚Äî MultistateModelFit","text":"name Param/quantity name x","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"returns-3","dir":"Reference","previous_headings":"","what":"Returns","title":"Minimal fit class ‚Äî MultistateModelFit","text":"Array dimension c(ndraws(x), dim(x))","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"method-print-","dir":"Reference","previous_headings":"","what":"Method print()","title":"Minimal fit class ‚Äî MultistateModelFit","text":"Print object","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"usage-9","dir":"Reference","previous_headings":"","what":"Usage","title":"Minimal fit class ‚Äî MultistateModelFit","text":"","code":"MultistateModelFit$print()"},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"returns-4","dir":"Reference","previous_headings":"","what":"Returns","title":"Minimal fit class ‚Äî MultistateModelFit","text":"nothing","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"method-plot-basisfun-","dir":"Reference","previous_headings":"","what":"Method plot_basisfun()","title":"Minimal fit class ‚Äî MultistateModelFit","text":"Plot used basis functions (grid)","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"usage-10","dir":"Reference","previous_headings":"","what":"Usage","title":"Minimal fit class ‚Äî MultistateModelFit","text":"","code":"MultistateModelFit$plot_basisfun()"},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"method-simulate-pk-","dir":"Reference","previous_headings":"","what":"Method simulate_pk()","title":"Minimal fit class ‚Äî MultistateModelFit","text":"Simulate PK dynamics using fitted params.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"usage-11","dir":"Reference","previous_headings":"","what":"Usage","title":"Minimal fit class ‚Äî MultistateModelFit","text":"","code":"MultistateModelFit$simulate_pk(   oos = FALSE,   data = NULL,   L = 100,   timescale = 24,   n_prev = 3 )"},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"Minimal fit class ‚Äî MultistateModelFit","text":"oos --sample subjects? data Data predict concentration. NULL, training data used. L number grid points subject timescale scale time n_prev number previous doses show fit ","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"method-plot-pk-","dir":"Reference","previous_headings":"","what":"Method plot_pk()","title":"Minimal fit class ‚Äî MultistateModelFit","text":"Plot PK fit.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"usage-12","dir":"Reference","previous_headings":"","what":"Usage","title":"Minimal fit class ‚Äî MultistateModelFit","text":"","code":"MultistateModelFit$plot_pk(   max_num_subjects = 12,   oos = FALSE,   data = NULL,   L = 100,   timescale = 24,   n_prev = 3,   ci_alpha = 0.9,   subject_ids = NULL )"},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"Minimal fit class ‚Äî MultistateModelFit","text":"max_num_subjects Max number subjects show. oos --sample subjects? data Data predict concentration. NULL, training data used. L number grid points subject timescale scale time n_prev number previous doses show fit ci_alpha Width central credible interval. subject_ids subjects plot?","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"method-plot-h-","dir":"Reference","previous_headings":"","what":"Method plot_h0()","title":"Minimal fit class ‚Äî MultistateModelFit","text":"Plot baseline hazard distribution","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"usage-13","dir":"Reference","previous_headings":"","what":"Usage","title":"Minimal fit class ‚Äî MultistateModelFit","text":"","code":"MultistateModelFit$plot_h0(t = NULL, ci_alpha = 0.95)"},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"arguments-5","dir":"Reference","previous_headings":"","what":"Arguments","title":"Minimal fit class ‚Äî MultistateModelFit","text":"t times evaluate baseline hazards ci_alpha width credible interval","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"method-h-dist-","dir":"Reference","previous_headings":"","what":"Method h0_dist()","title":"Minimal fit class ‚Äî MultistateModelFit","text":"Baseline hazard distribution","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"usage-14","dir":"Reference","previous_headings":"","what":"Usage","title":"Minimal fit class ‚Äî MultistateModelFit","text":"","code":"MultistateModelFit$h0_dist(t = NULL, ci_alpha = 0.95)"},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"arguments-6","dir":"Reference","previous_headings":"","what":"Arguments","title":"Minimal fit class ‚Äî MultistateModelFit","text":"t times evaluate baseline hazards ci_alpha width credible interval","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"method-covariate-effects-","dir":"Reference","previous_headings":"","what":"Method covariate_effects()","title":"Minimal fit class ‚Äî MultistateModelFit","text":"Extract covariate effects Currently implemented models PK submodel.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"usage-15","dir":"Reference","previous_headings":"","what":"Usage","title":"Minimal fit class ‚Äî MultistateModelFit","text":"","code":"MultistateModelFit$covariate_effects()"},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"returns-5","dir":"Reference","previous_headings":"","what":"Returns","title":"Minimal fit class ‚Äî MultistateModelFit","text":"data frame columns covariate Name covariate beta covariate effect parameter estimate (rvar).  NOTE: regression coefficient normalized covariates. target_state Name target state. corresponding  beta covariate effect transitions end  target state.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"method-log-z-pars-","dir":"Reference","previous_headings":"","what":"Method log_z_pars()","title":"Minimal fit class ‚Äî MultistateModelFit","text":"Full names parameters start log_z_.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"usage-16","dir":"Reference","previous_headings":"","what":"Usage","title":"Minimal fit class ‚Äî MultistateModelFit","text":"","code":"MultistateModelFit$log_z_pars()"},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"method-num-draws-","dir":"Reference","previous_headings":"","what":"Method num_draws()","title":"Minimal fit class ‚Äî MultistateModelFit","text":"Get number draws","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"usage-17","dir":"Reference","previous_headings":"","what":"Usage","title":"Minimal fit class ‚Äî MultistateModelFit","text":"","code":"MultistateModelFit$num_draws()"},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Minimal fit class ‚Äî MultistateModelFit","text":"objects class cloneable method.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"usage-18","dir":"Reference","previous_headings":"","what":"Usage","title":"Minimal fit class ‚Äî MultistateModelFit","text":"","code":"MultistateModelFit$clone(deep = FALSE)"},{"path":"https://generable.github.io/bmstate/reference/MultistateModelFit.html","id":"arguments-7","dir":"Reference","previous_headings":"","what":"Arguments","title":"Minimal fit class ‚Äî MultistateModelFit","text":"deep Whether make deep clone.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":null,"dir":"Reference","previous_headings":"","what":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"Class represents multistate system.","code":""},{"path":[]},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"MultistateSystem$new() MultistateSystem$num_states() MultistateSystem$num_trans() MultistateSystem$num_weights() MultistateSystem$num_knots() MultistateSystem$tm() MultistateSystem$knots_not_set() MultistateSystem$set_knots() MultistateSystem$get_knots() MultistateSystem$get_tmax() MultistateSystem$print() MultistateSystem$log_baseline_hazard() MultistateSystem$basisfun_matrix() MultistateSystem$log_inst_hazard() MultistateSystem$intensity_matrix() MultistateSystem$has_self_loops() MultistateSystem$max_inst_hazard() MultistateSystem$simulate() MultistateSystem$clone()","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"Create model","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"","code":"MultistateSystem$new(transmat)"},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"transmat TransitionMatrix.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"method-num-states-","dir":"Reference","previous_headings":"","what":"Method num_states()","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"Get number states","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"","code":"MultistateSystem$num_states()"},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"integer","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"method-num-trans-","dir":"Reference","previous_headings":"","what":"Method num_trans()","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"Get number transitions","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"","code":"MultistateSystem$num_trans()"},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"integer","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"method-num-weights-","dir":"Reference","previous_headings":"","what":"Method num_weights()","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"Get number spline weight parameters","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"","code":"MultistateSystem$num_weights()"},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"returns-2","dir":"Reference","previous_headings":"","what":"Returns","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"integer (num_knots - 2) + self$spline_k","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"method-num-knots-","dir":"Reference","previous_headings":"","what":"Method num_knots()","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"Get number spline knots","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"","code":"MultistateSystem$num_knots()"},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"returns-3","dir":"Reference","previous_headings":"","what":"Returns","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"integer, zero knots set","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"method-tm-","dir":"Reference","previous_headings":"","what":"Method tm()","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"Get transition matrix","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"","code":"MultistateSystem$tm()"},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"method-knots-not-set-","dir":"Reference","previous_headings":"","what":"Method knots_not_set()","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"knots set yet?","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"","code":"MultistateSystem$knots_not_set()"},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"returns-4","dir":"Reference","previous_headings":"","what":"Returns","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"logical","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"method-set-knots-","dir":"Reference","previous_headings":"","what":"Method set_knots()","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"Set spline knot locations","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"","code":"MultistateSystem$set_knots(locations)"},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"locations numeric vector","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"method-get-knots-","dir":"Reference","previous_headings":"","what":"Method get_knots()","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"Get knot locations","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"usage-8","dir":"Reference","previous_headings":"","what":"Usage","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"","code":"MultistateSystem$get_knots()"},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"returns-5","dir":"Reference","previous_headings":"","what":"Returns","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"numeric vector","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"method-get-tmax-","dir":"Reference","previous_headings":"","what":"Method get_tmax()","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"Get max time set model","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"usage-9","dir":"Reference","previous_headings":"","what":"Usage","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"","code":"MultistateSystem$get_tmax()"},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"returns-6","dir":"Reference","previous_headings":"","what":"Returns","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"number","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"method-print-","dir":"Reference","previous_headings":"","what":"Method print()","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"Print object","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"usage-10","dir":"Reference","previous_headings":"","what":"Usage","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"","code":"MultistateSystem$print()"},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"returns-7","dir":"Reference","previous_headings":"","what":"Returns","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"nothing","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"method-log-baseline-hazard-","dir":"Reference","previous_headings":"","what":"Method log_baseline_hazard()","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"Evaluate log baseline hazard","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"usage-11","dir":"Reference","previous_headings":"","what":"Usage","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"","code":"MultistateSystem$log_baseline_hazard(t, log_w0, w = NULL, SBF = NULL)"},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"t Output time points. used SBF given. log_w0 Intercept (log_scale). w Spline weights (log scale). NULL, set vector zeros, meaning log hazard constant log_w0 SBF Precomputed basisfunction matrix t.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"returns-8","dir":"Reference","previous_headings":"","what":"Returns","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"vector length t","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"method-basisfun-matrix-","dir":"Reference","previous_headings":"","what":"Method basisfun_matrix()","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"Evaluate basis function matrix baseline hazard","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"usage-12","dir":"Reference","previous_headings":"","what":"Usage","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"","code":"MultistateSystem$basisfun_matrix(t)"},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"t Evaluation time points.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"returns-9","dir":"Reference","previous_headings":"","what":"Returns","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"Matrix shape c(N, L+1) L number knots","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"method-log-inst-hazard-","dir":"Reference","previous_headings":"","what":"Method log_inst_hazard()","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"Evaluate log instant hazard","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"usage-13","dir":"Reference","previous_headings":"","what":"Usage","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"","code":"MultistateSystem$log_inst_hazard(t, w, log_w0, log_m, SBF = NULL)"},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"t Time point(s). used SBF given. w Spline basis function weights (vector) log_w0 Intercept (log) log_m Hazard multiplier (log) SBF Pre-computed basis function matrix t.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"method-intensity-matrix-","dir":"Reference","previous_headings":"","what":"Method intensity_matrix()","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"Evaluate transition intensity (generator) matrix time t","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"usage-14","dir":"Reference","previous_headings":"","what":"Usage","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"","code":"MultistateSystem$intensity_matrix(t, log_w0, w = NULL, log_m = NULL)"},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"arguments-5","dir":"Reference","previous_headings":"","what":"Arguments","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"t number (time point) log_w0 vector length n_trans w array shape n_trans x n_weights log_m vector length n_trans","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"returns-10","dir":"Reference","previous_headings":"","what":"Returns","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"matrix shape n_states x n_states","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"method-has-self-loops-","dir":"Reference","previous_headings":"","what":"Method has_self_loops()","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"system self loops?","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"usage-15","dir":"Reference","previous_headings":"","what":"Usage","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"","code":"MultistateSystem$has_self_loops()"},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"returns-11","dir":"Reference","previous_headings":"","what":"Returns","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"Boolean value","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"method-max-inst-hazard-","dir":"Reference","previous_headings":"","what":"Method max_inst_hazard()","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"Max instant hazard interval (t1, t2)","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"usage-16","dir":"Reference","previous_headings":"","what":"Usage","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"","code":"MultistateSystem$max_inst_hazard(t1, t2, w, log_w0, log_m)"},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"arguments-6","dir":"Reference","previous_headings":"","what":"Arguments","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"t1 Start time point t2 End time point w Spline basis function weights (vector) log_w0 Intercept (log) log_m Hazard multiplier (log)","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"method-simulate-","dir":"Reference","previous_headings":"","what":"Method simulate()","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"Generate paths","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"usage-17","dir":"Reference","previous_headings":"","what":"Usage","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"","code":"MultistateSystem$simulate(   w,   log_w0,   log_m,   init_state = 1,   t_start = 0,   t_max = NULL,   n_rep = 1,   min_t_step = 1e-06 )"},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"arguments-7","dir":"Reference","previous_headings":"","what":"Arguments","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"w array shape n_draws x n_trans x n_weights log_w0 array shape n_draws x n_trans log_m array shape n_draws x n_trans init_state Index starting state. single value vector length equal n_draws. t_start Start time. t_max Max time. NULL, max time model used. n_rep Number repetitions draw. min_t_step Minimal time step.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"returns-12","dir":"Reference","previous_headings":"","what":"Returns","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"data frame n_draws x n_rep paths.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"objects class cloneable method.","code":""},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"usage-18","dir":"Reference","previous_headings":"","what":"Usage","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"","code":"MultistateSystem$clone(deep = FALSE)"},{"path":"https://generable.github.io/bmstate/reference/MultistateSystem.html","id":"arguments-8","dir":"Reference","previous_headings":"","what":"Arguments","title":"A multistate system with proportional spline hazards ‚Äî MultistateSystem","text":"deep Whether make deep clone.","code":""},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":null,"dir":"Reference","previous_headings":"","what":"One-compartment PK Model ‚Äî PKModel","title":"One-compartment PK Model ‚Äî PKModel","text":"Class represents one-compartment PK model linear oral absorption.","code":""},{"path":[]},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"One-compartment PK Model ‚Äî PKModel","text":"PKModel$get_max_conc() PKModel$set_max_conc() PKModel$new() PKModel$ka_covs() PKModel$CL_covs() PKModel$V2_covs() PKModel$covs() PKModel$print() PKModel$simulate_ss() PKModel$compute_ss_auc() PKModel$simulate_data() PKModel$format_params() PKModel$clone()","code":""},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"method-get-max-conc-","dir":"Reference","previous_headings":"","what":"Method get_max_conc()","title":"One-compartment PK Model ‚Äî PKModel","text":"Get concentration upper bound","code":""},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"One-compartment PK Model ‚Äî PKModel","text":"","code":"PKModel$get_max_conc()"},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"method-set-max-conc-","dir":"Reference","previous_headings":"","what":"Method set_max_conc()","title":"One-compartment PK Model ‚Äî PKModel","text":"Set concentration upper bound","code":""},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"One-compartment PK Model ‚Äî PKModel","text":"","code":"PKModel$set_max_conc(value)"},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"One-compartment PK Model ‚Äî PKModel","text":"value Upper bound concentration, avoid numerical issues.","code":""},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"One-compartment PK Model ‚Äî PKModel","text":"Create model","code":""},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"One-compartment PK Model ‚Äî PKModel","text":"","code":"PKModel$new(covariates)"},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"One-compartment PK Model ‚Äî PKModel","text":"covariates list elements ka, CL, V2","code":""},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"method-ka-covs-","dir":"Reference","previous_headings":"","what":"Method ka_covs()","title":"One-compartment PK Model ‚Äî PKModel","text":"Get covariates affecting k_a parameter.","code":""},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"One-compartment PK Model ‚Äî PKModel","text":"","code":"PKModel$ka_covs()"},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"method-cl-covs-","dir":"Reference","previous_headings":"","what":"Method CL_covs()","title":"One-compartment PK Model ‚Äî PKModel","text":"Get covariates affecting CL parameter.","code":""},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"One-compartment PK Model ‚Äî PKModel","text":"","code":"PKModel$CL_covs()"},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"method-v-covs-","dir":"Reference","previous_headings":"","what":"Method V2_covs()","title":"One-compartment PK Model ‚Äî PKModel","text":"Get covariates affecting V2 parameter.","code":""},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"One-compartment PK Model ‚Äî PKModel","text":"","code":"PKModel$V2_covs()"},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"method-covs-","dir":"Reference","previous_headings":"","what":"Method covs()","title":"One-compartment PK Model ‚Äî PKModel","text":"Get names unique covariates","code":""},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"One-compartment PK Model ‚Äî PKModel","text":"","code":"PKModel$covs()"},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"method-print-","dir":"Reference","previous_headings":"","what":"Method print()","title":"One-compartment PK Model ‚Äî PKModel","text":"Print object info","code":""},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"One-compartment PK Model ‚Äî PKModel","text":"","code":"PKModel$print()"},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"One-compartment PK Model ‚Äî PKModel","text":"nothing","code":""},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"method-simulate-ss-","dir":"Reference","previous_headings":"","what":"Method simulate_ss()","title":"One-compartment PK Model ‚Äî PKModel","text":"Simulate system steady state","code":""},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"usage-8","dir":"Reference","previous_headings":"","what":"Usage","title":"One-compartment PK Model ‚Äî PKModel","text":"","code":"PKModel$simulate_ss(t, theta, dose, tau)"},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"One-compartment PK Model ‚Äî PKModel","text":"t output time points theta parameter values dose dose tau dosing interval","code":""},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"One-compartment PK Model ‚Äî PKModel","text":"vector length t, representing concentration central compartment.","code":""},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"method-compute-ss-auc-","dir":"Reference","previous_headings":"","what":"Method compute_ss_auc()","title":"One-compartment PK Model ‚Äî PKModel","text":"Compute steady-state area concentration curve one dosing interval","code":""},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"usage-9","dir":"Reference","previous_headings":"","what":"Usage","title":"One-compartment PK Model ‚Äî PKModel","text":"","code":"PKModel$compute_ss_auc(theta, dose)"},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"One-compartment PK Model ‚Äî PKModel","text":"theta parameter values dose dose","code":""},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"returns-2","dir":"Reference","previous_headings":"","what":"Returns","title":"One-compartment PK Model ‚Äî PKModel","text":"numeric value","code":""},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"method-simulate-data-","dir":"Reference","previous_headings":"","what":"Method simulate_data()","title":"One-compartment PK Model ‚Äî PKModel","text":"Simulate data many subjects","code":""},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"usage-10","dir":"Reference","previous_headings":"","what":"Usage","title":"One-compartment PK Model ‚Äî PKModel","text":"","code":"PKModel$simulate_data(df_subjects, beta_pk = NULL, tau = 24, sigma = 0.3)"},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"One-compartment PK Model ‚Äî PKModel","text":"df_subjects Data frame one row subject beta_pk Covariate effects tau Dosing interval (PK) sigma Noise magnitude concentration measurements (PK)","code":""},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"returns-3","dir":"Reference","previous_headings":"","what":"Returns","title":"One-compartment PK Model ‚Äî PKModel","text":"Data frame one row subject, DosingData object","code":""},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"method-format-params-","dir":"Reference","previous_headings":"","what":"Method format_params()","title":"One-compartment PK Model ‚Äî PKModel","text":"Format list input PK parameters standardized format.","code":""},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"usage-11","dir":"Reference","previous_headings":"","what":"Usage","title":"One-compartment PK Model ‚Äî PKModel","text":"","code":"PKModel$format_params(beta_pk = NULL)"},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"arguments-5","dir":"Reference","previous_headings":"","what":"Arguments","title":"One-compartment PK Model ‚Äî PKModel","text":"beta_pk list max three elements return list three elements","code":""},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"One-compartment PK Model ‚Äî PKModel","text":"objects class cloneable method.","code":""},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"usage-12","dir":"Reference","previous_headings":"","what":"Usage","title":"One-compartment PK Model ‚Äî PKModel","text":"","code":"PKModel$clone(deep = FALSE)"},{"path":"https://generable.github.io/bmstate/reference/PKModel.html","id":"arguments-6","dir":"Reference","previous_headings":"","what":"Arguments","title":"One-compartment PK Model ‚Äî PKModel","text":"deep Whether make deep clone.","code":""},{"path":"https://generable.github.io/bmstate/reference/PSSDosingData.html","id":null,"dir":"Reference","previous_headings":"","what":"Partially steady-state dosing data class (R6 class) ‚Äî PSSDosingData","title":"Partially steady-state dosing data class (R6 class) ‚Äî PSSDosingData","text":"Contains information taken doses dose times.","code":""},{"path":"https://generable.github.io/bmstate/reference/PSSDosingData.html","id":"super-class","dir":"Reference","previous_headings":"","what":"Super class","title":"Partially steady-state dosing data class (R6 class) ‚Äî PSSDosingData","text":"bmstate::DosingData -> PSSDosingData","code":""},{"path":"https://generable.github.io/bmstate/reference/PSSDosingData.html","id":"public-fields","dir":"Reference","previous_headings":"","what":"Public fields","title":"Partially steady-state dosing data class (R6 class) ‚Äî PSSDosingData","text":"doses Dose amounts (list length equal number subjects). Corresponds doses steady state. times Dose times (list length equal number subjects). Corresponds doses steady state. First time end steady-state assumption time range. dose_ss Steady-state dose. tau_ss Steady-state dosing interval.","code":""},{"path":"https://generable.github.io/bmstate/reference/PSSDosingData.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"Partially steady-state dosing data class (R6 class) ‚Äî PSSDosingData","text":"bmstate::DosingData$num_subjects() bmstate::DosingData$print() bmstate::DosingData$set_sub_ids()","code":""},{"path":"https://generable.github.io/bmstate/reference/PSSDosingData.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Partially steady-state dosing data class (R6 class) ‚Äî PSSDosingData","text":"PSSDosingData$new() PSSDosingData$as_data_frame() PSSDosingData$simulate_pk() PSSDosingData$plot() PSSDosingData$filter() PSSDosingData$clone()","code":""},{"path":"https://generable.github.io/bmstate/reference/PSSDosingData.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"Partially steady-state dosing data class (R6 class) ‚Äî PSSDosingData","text":"Initialize","code":""},{"path":"https://generable.github.io/bmstate/reference/PSSDosingData.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Partially steady-state dosing data class (R6 class) ‚Äî PSSDosingData","text":"","code":"PSSDosingData$new(subject_ids, doses, times, dose_ss = NULL, tau_ss = 24)"},{"path":"https://generable.github.io/bmstate/reference/PSSDosingData.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Partially steady-state dosing data class (R6 class) ‚Äî PSSDosingData","text":"subject_ids character vector doses Dose amounts (list length equal number subjects). Corresponds doses steady state. times Dose times (list length equal number subjects). Corresponds doses steady state. First time end steady-state assumption time range. dose_ss Steady-state dose. tau_ss Steady-state dosing interval.","code":""},{"path":"https://generable.github.io/bmstate/reference/PSSDosingData.html","id":"method-as-data-frame-","dir":"Reference","previous_headings":"","what":"Method as_data_frame()","title":"Partially steady-state dosing data class (R6 class) ‚Äî PSSDosingData","text":"data frame","code":""},{"path":"https://generable.github.io/bmstate/reference/PSSDosingData.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Partially steady-state dosing data class (R6 class) ‚Äî PSSDosingData","text":"","code":"PSSDosingData$as_data_frame()"},{"path":"https://generable.github.io/bmstate/reference/PSSDosingData.html","id":"method-simulate-pk-","dir":"Reference","previous_headings":"","what":"Method simulate_pk()","title":"Partially steady-state dosing data class (R6 class) ‚Äî PSSDosingData","text":"Simulate PK dynamics","code":""},{"path":"https://generable.github.io/bmstate/reference/PSSDosingData.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Partially steady-state dosing data class (R6 class) ‚Äî PSSDosingData","text":"","code":"PSSDosingData$simulate_pk(t, theta, MAX_CONC, skip_assert = FALSE)"},{"path":"https://generable.github.io/bmstate/reference/PSSDosingData.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Partially steady-state dosing data class (R6 class) ‚Äî PSSDosingData","text":"t vector output times subject (list). theta matrix parameters. MAX_CONC concentration upper bound skip_assert Skip assertions call exposed Stan directly, assuming exists?","code":""},{"path":"https://generable.github.io/bmstate/reference/PSSDosingData.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"Partially steady-state dosing data class (R6 class) ‚Äî PSSDosingData","text":"data.frame","code":""},{"path":"https://generable.github.io/bmstate/reference/PSSDosingData.html","id":"method-plot-","dir":"Reference","previous_headings":"","what":"Method plot()","title":"Partially steady-state dosing data class (R6 class) ‚Äî PSSDosingData","text":"Plot dosing (PK) data","code":""},{"path":"https://generable.github.io/bmstate/reference/PSSDosingData.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Partially steady-state dosing data class (R6 class) ‚Äî PSSDosingData","text":"","code":"PSSDosingData$plot(   df_fit = NULL,   subject_df = NULL,   max_num_subjects = 12,   subject_ids = NULL )"},{"path":"https://generable.github.io/bmstate/reference/PSSDosingData.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"Partially steady-state dosing data class (R6 class) ‚Äî PSSDosingData","text":"df_fit Fit data frame. Uses columns val, lower upper. subject_df Subject data frame. max_num_subjects Max number subjects plot. subject_ids subjects plot?","code":""},{"path":"https://generable.github.io/bmstate/reference/PSSDosingData.html","id":"method-filter-","dir":"Reference","previous_headings":"","what":"Method filter()","title":"Partially steady-state dosing data class (R6 class) ‚Äî PSSDosingData","text":"Filter based subject id, creates new object","code":""},{"path":"https://generable.github.io/bmstate/reference/PSSDosingData.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"Partially steady-state dosing data class (R6 class) ‚Äî PSSDosingData","text":"","code":"PSSDosingData$filter(subject_ids_keep = NULL)"},{"path":"https://generable.github.io/bmstate/reference/PSSDosingData.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"Partially steady-state dosing data class (R6 class) ‚Äî PSSDosingData","text":"subject_ids_keep Subject ids keep","code":""},{"path":"https://generable.github.io/bmstate/reference/PSSDosingData.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Partially steady-state dosing data class (R6 class) ‚Äî PSSDosingData","text":"objects class cloneable method.","code":""},{"path":"https://generable.github.io/bmstate/reference/PSSDosingData.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"Partially steady-state dosing data class (R6 class) ‚Äî PSSDosingData","text":"","code":"PSSDosingData$clone(deep = FALSE)"},{"path":"https://generable.github.io/bmstate/reference/PSSDosingData.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"Partially steady-state dosing data class (R6 class) ‚Äî PSSDosingData","text":"deep Whether make deep clone.","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":null,"dir":"Reference","previous_headings":"","what":"Path data class (R6 class) ‚Äî PathData","title":"Path data class (R6 class) ‚Äî PathData","text":"Class containing information state paths subjects.","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Path data class (R6 class) ‚Äî PathData","text":"recommended users try create data using constructor class. Rather use df_to_pathdata.","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"public-fields","dir":"Reference","previous_headings":"","what":"Public fields","title":"Path data class (R6 class) ‚Äî PathData","text":"subject_df Data frame one row per subject. Must one row subject, subject_id covariates columns. path_df Data frame actual paths. row corresponds one time point. Must path_id, state, time, trans_idx columns. path_id: path identifier state: integer index state time point,   next time point time: time point trans_idx: Integer indicating transition   time point corresponds . time point state transition,   0. link_df Links path subject data frames. Must one row path, path_id, draw_idx, rep_idx, subject_id columns. covs Covariate column names. transmat TransitionMatrix describing system paths belong.","code":""},{"path":[]},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Path data class (R6 class) ‚Äî PathData","text":"PathData$new() PathData$unique_subjects() PathData$covariate_names() PathData$subset_covariates() PathData$state_at() PathData$transition_times() PathData$n_paths() PathData$state_names() PathData$get_event_state_names() PathData$terminal_states() PathData$print() PathData$get_path_df() PathData$as_data_frame() PathData$full_link() PathData$as_transitions() PathData$as_transitions_alt() PathData$as_msdata() PathData$plot_paths() PathData$prop_matrix() PathData$plot_graph() PathData$fit_coxph() PathData$fit_mstate() PathData$filter() PathData$clone()","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"Path data class (R6 class) ‚Äî PathData","text":"Initialize","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Path data class (R6 class) ‚Äî PathData","text":"","code":"PathData$new(subject_df, path_df, link_df, transmat, covs = NULL)"},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Path data class (R6 class) ‚Äî PathData","text":"subject_df Data frame one row per subject. Must one row subject, subject_id covariates columns. path_df Data frame actual paths. row corresponds one time point. Must path_id, state, time, trans_idx columns. path_id: path identifier state: integer index state time point,   next time point time: time point trans_idx: Integer indicating transition   time point corresponds . time point state transition,   0. link_df Links path subject data frames. Must one row path, path_id, draw_idx, rep_idx, subject_id columns. transmat TransitionMatrix describing system paths belong. covs Covariate column names.","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"method-unique-subjects-","dir":"Reference","previous_headings":"","what":"Method unique_subjects()","title":"Path data class (R6 class) ‚Äî PathData","text":"Get unique subject ids","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Path data class (R6 class) ‚Äî PathData","text":"","code":"PathData$unique_subjects()"},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"method-covariate-names-","dir":"Reference","previous_headings":"","what":"Method covariate_names()","title":"Path data class (R6 class) ‚Äî PathData","text":"Get names covariates","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Path data class (R6 class) ‚Äî PathData","text":"","code":"PathData$covariate_names()"},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"Path data class (R6 class) ‚Äî PathData","text":"character vector","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"method-subset-covariates-","dir":"Reference","previous_headings":"","what":"Method subset_covariates()","title":"Path data class (R6 class) ‚Äî PathData","text":"Create new PathData subset covariates","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Path data class (R6 class) ‚Äî PathData","text":"","code":"PathData$subset_covariates(covs, renamed_old = NULL, renamed_new = NULL)"},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Path data class (R6 class) ‚Äî PathData","text":"covs Names new covariates renamed_old Name old covariate rename renamed_new Name new covariate old one copied","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"method-state-at-","dir":"Reference","previous_headings":"","what":"Method state_at()","title":"Path data class (R6 class) ‚Äî PathData","text":"path, get state time t","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"Path data class (R6 class) ‚Äî PathData","text":"","code":"PathData$state_at(t)"},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"Path data class (R6 class) ‚Äî PathData","text":"t time","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"Path data class (R6 class) ‚Äî PathData","text":"data frame one row path","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"method-transition-times-","dir":"Reference","previous_headings":"","what":"Method transition_times()","title":"Path data class (R6 class) ‚Äî PathData","text":"Get transition times","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"Path data class (R6 class) ‚Äî PathData","text":"","code":"PathData$transition_times(trans_inds = NULL)"},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"Path data class (R6 class) ‚Äî PathData","text":"trans_inds Indices transition whose occurrence times requested. Default NULL, case transitions considered.","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"returns-2","dir":"Reference","previous_headings":"","what":"Returns","title":"Path data class (R6 class) ‚Äî PathData","text":"numeric vector","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"method-n-paths-","dir":"Reference","previous_headings":"","what":"Method n_paths()","title":"Path data class (R6 class) ‚Äî PathData","text":"Get number paths","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"Path data class (R6 class) ‚Äî PathData","text":"","code":"PathData$n_paths()"},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"returns-3","dir":"Reference","previous_headings":"","what":"Returns","title":"Path data class (R6 class) ‚Äî PathData","text":"integer","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"method-state-names-","dir":"Reference","previous_headings":"","what":"Method state_names()","title":"Path data class (R6 class) ‚Äî PathData","text":"Get names states","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"Path data class (R6 class) ‚Äî PathData","text":"","code":"PathData$state_names()"},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"returns-4","dir":"Reference","previous_headings":"","what":"Returns","title":"Path data class (R6 class) ‚Äî PathData","text":"character vector","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"method-get-event-state-names-","dir":"Reference","previous_headings":"","what":"Method get_event_state_names()","title":"Path data class (R6 class) ‚Äî PathData","text":"Get names states transitioning can transition event","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"usage-8","dir":"Reference","previous_headings":"","what":"Usage","title":"Path data class (R6 class) ‚Äî PathData","text":"","code":"PathData$get_event_state_names()"},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"returns-5","dir":"Reference","previous_headings":"","what":"Returns","title":"Path data class (R6 class) ‚Äî PathData","text":"character vector","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"method-terminal-states-","dir":"Reference","previous_headings":"","what":"Method terminal_states()","title":"Path data class (R6 class) ‚Äî PathData","text":"Get names terminal states","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"usage-9","dir":"Reference","previous_headings":"","what":"Usage","title":"Path data class (R6 class) ‚Äî PathData","text":"","code":"PathData$terminal_states()"},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"returns-6","dir":"Reference","previous_headings":"","what":"Returns","title":"Path data class (R6 class) ‚Äî PathData","text":"character vector","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"method-print-","dir":"Reference","previous_headings":"","what":"Method print()","title":"Path data class (R6 class) ‚Äî PathData","text":"Print info","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"usage-10","dir":"Reference","previous_headings":"","what":"Usage","title":"Path data class (R6 class) ‚Äî PathData","text":"","code":"PathData$print()"},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"returns-7","dir":"Reference","previous_headings":"","what":"Returns","title":"Path data class (R6 class) ‚Äî PathData","text":"nothing","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"method-get-path-df-","dir":"Reference","previous_headings":"","what":"Method get_path_df()","title":"Path data class (R6 class) ‚Äî PathData","text":"Get path data frame","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"usage-11","dir":"Reference","previous_headings":"","what":"Usage","title":"Path data class (R6 class) ‚Äî PathData","text":"","code":"PathData$get_path_df(truncate = FALSE)"},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"Path data class (R6 class) ‚Äî PathData","text":"truncate Remove rows terminal events?","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"method-as-data-frame-","dir":"Reference","previous_headings":"","what":"Method as_data_frame()","title":"Path data class (R6 class) ‚Äî PathData","text":"Convert one long data frame","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"usage-12","dir":"Reference","previous_headings":"","what":"Usage","title":"Path data class (R6 class) ‚Äî PathData","text":"","code":"PathData$as_data_frame(covariates = NULL, truncate = FALSE)"},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"arguments-5","dir":"Reference","previous_headings":"","what":"Arguments","title":"Path data class (R6 class) ‚Äî PathData","text":"covariates covariates include? truncate Remove rows terminal events?","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"method-full-link-","dir":"Reference","previous_headings":"","what":"Method full_link()","title":"Path data class (R6 class) ‚Äî PathData","text":"Full link data frame","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"usage-13","dir":"Reference","previous_headings":"","what":"Usage","title":"Path data class (R6 class) ‚Äî PathData","text":"","code":"PathData$full_link(covariates = NULL)"},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"arguments-6","dir":"Reference","previous_headings":"","what":"Arguments","title":"Path data class (R6 class) ‚Äî PathData","text":"covariates covariates include","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"returns-8","dir":"Reference","previous_headings":"","what":"Returns","title":"Path data class (R6 class) ‚Äî PathData","text":"data.frame number rows link_df, including also covariate columns subject_id","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"method-as-transitions-","dir":"Reference","previous_headings":"","what":"Method as_transitions()","title":"Path data class (R6 class) ‚Äî PathData","text":"Data frame transitions format","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"usage-14","dir":"Reference","previous_headings":"","what":"Usage","title":"Path data class (R6 class) ‚Äî PathData","text":"","code":"PathData$as_transitions(covariates = NULL, truncate = FALSE)"},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"arguments-7","dir":"Reference","previous_headings":"","what":"Arguments","title":"Path data class (R6 class) ‚Äî PathData","text":"covariates covariates include? truncate Remove rows terminal events first?","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"returns-9","dir":"Reference","previous_headings":"","what":"Returns","title":"Path data class (R6 class) ‚Äî PathData","text":"data.frame","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"method-as-transitions-alt-","dir":"Reference","previous_headings":"","what":"Method as_transitions_alt()","title":"Path data class (R6 class) ‚Äî PathData","text":"Data frame alternative transitions format","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"usage-15","dir":"Reference","previous_headings":"","what":"Usage","title":"Path data class (R6 class) ‚Äî PathData","text":"","code":"PathData$as_transitions_alt(covariates = NULL, truncate = FALSE)"},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"arguments-8","dir":"Reference","previous_headings":"","what":"Arguments","title":"Path data class (R6 class) ‚Äî PathData","text":"covariates covariates include? truncate Remove rows terminal events first?","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"returns-10","dir":"Reference","previous_headings":"","what":"Returns","title":"Path data class (R6 class) ‚Äî PathData","text":"data.frame","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"method-as-msdata-","dir":"Reference","previous_headings":"","what":"Method as_msdata()","title":"Path data class (R6 class) ‚Äî PathData","text":"Convert format used 'mstate' package","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"usage-16","dir":"Reference","previous_headings":"","what":"Usage","title":"Path data class (R6 class) ‚Äî PathData","text":"","code":"PathData$as_msdata(covariates = NULL)"},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"arguments-9","dir":"Reference","previous_headings":"","what":"Arguments","title":"Path data class (R6 class) ‚Äî PathData","text":"covariates covariates include?","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"returns-11","dir":"Reference","previous_headings":"","what":"Returns","title":"Path data class (R6 class) ‚Äî PathData","text":"msdata object","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"method-plot-paths-","dir":"Reference","previous_headings":"","what":"Method plot_paths()","title":"Path data class (R6 class) ‚Äî PathData","text":"Step plot paths","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"usage-17","dir":"Reference","previous_headings":"","what":"Usage","title":"Path data class (R6 class) ‚Äî PathData","text":"","code":"PathData$plot_paths(n_paths = NULL, alpha = 0.5, truncate = FALSE)"},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"arguments-10","dir":"Reference","previous_headings":"","what":"Arguments","title":"Path data class (R6 class) ‚Äî PathData","text":"n_paths Number paths subsample plotting. alpha opacity truncate truncate terminal events?","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"method-prop-matrix-","dir":"Reference","previous_headings":"","what":"Method prop_matrix()","title":"Path data class (R6 class) ‚Äî PathData","text":"Transition proportion matrix","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"usage-18","dir":"Reference","previous_headings":"","what":"Usage","title":"Path data class (R6 class) ‚Äî PathData","text":"","code":"PathData$prop_matrix(include_censor = TRUE)"},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"arguments-11","dir":"Reference","previous_headings":"","what":"Arguments","title":"Path data class (R6 class) ‚Äî PathData","text":"include_censor Include censoring (event) proportion matrix","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"returns-12","dir":"Reference","previous_headings":"","what":"Returns","title":"Path data class (R6 class) ‚Äî PathData","text":"table","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"method-plot-graph-","dir":"Reference","previous_headings":"","what":"Method plot_graph()","title":"Path data class (R6 class) ‚Äî PathData","text":"Visualize transition proportion matrix graph","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"usage-19","dir":"Reference","previous_headings":"","what":"Usage","title":"Path data class (R6 class) ‚Äî PathData","text":"","code":"PathData$plot_graph(digits = 3, ...)"},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"arguments-12","dir":"Reference","previous_headings":"","what":"Arguments","title":"Path data class (R6 class) ‚Äî PathData","text":"digits Max number digits show numbers ... Arguments passed qgraph","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"returns-13","dir":"Reference","previous_headings":"","what":"Returns","title":"Path data class (R6 class) ‚Äî PathData","text":"qgraph plot","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"method-fit-coxph-","dir":"Reference","previous_headings":"","what":"Method fit_coxph()","title":"Path data class (R6 class) ‚Äî PathData","text":"Fit Cox proportional hazards model","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"usage-20","dir":"Reference","previous_headings":"","what":"Usage","title":"Path data class (R6 class) ‚Äî PathData","text":"","code":"PathData$fit_coxph(covariates = NULL, ...)"},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"arguments-13","dir":"Reference","previous_headings":"","what":"Arguments","title":"Path data class (R6 class) ‚Äî PathData","text":"covariates Covariates include. ... Arguments passed survival::coxph.","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"method-fit-mstate-","dir":"Reference","previous_headings":"","what":"Method fit_mstate()","title":"Path data class (R6 class) ‚Äî PathData","text":"Fit frequentist 'mstate' model","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"usage-21","dir":"Reference","previous_headings":"","what":"Usage","title":"Path data class (R6 class) ‚Äî PathData","text":"","code":"PathData$fit_mstate(covariates = NULL, ...)"},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"arguments-14","dir":"Reference","previous_headings":"","what":"Arguments","title":"Path data class (R6 class) ‚Äî PathData","text":"covariates Covariates include. ... Arguments passed survival::coxph.","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"method-filter-","dir":"Reference","previous_headings":"","what":"Method filter()","title":"Path data class (R6 class) ‚Äî PathData","text":"Filter based subject id, creates new object","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"usage-22","dir":"Reference","previous_headings":"","what":"Usage","title":"Path data class (R6 class) ‚Äî PathData","text":"","code":"PathData$filter(subject_ids_keep)"},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"arguments-15","dir":"Reference","previous_headings":"","what":"Arguments","title":"Path data class (R6 class) ‚Äî PathData","text":"subject_ids_keep Subject ids keep","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Path data class (R6 class) ‚Äî PathData","text":"objects class cloneable method.","code":""},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"usage-23","dir":"Reference","previous_headings":"","what":"Usage","title":"Path data class (R6 class) ‚Äî PathData","text":"","code":"PathData$clone(deep = FALSE)"},{"path":"https://generable.github.io/bmstate/reference/PathData.html","id":"arguments-16","dir":"Reference","previous_headings":"","what":"Arguments","title":"Path data class (R6 class) ‚Äî PathData","text":"deep Whether make deep clone.","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Defines states and possible transitions ‚Äî TransitionMatrix","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"Class represents transition matrix.","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"public-fields","dir":"Reference","previous_headings":"","what":"Public fields","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"matrix binary N x N matrix matrix[,j] 1 transition state j possible states character vector state names (length N)","code":""},{"path":[]},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"TransitionMatrix$new() TransitionMatrix$num_states() TransitionMatrix$num_trans() TransitionMatrix$num_trans_types() TransitionMatrix$as_matrix() TransitionMatrix$as_transition_index_matrix() TransitionMatrix$as_mstate_transmat() TransitionMatrix$possible_transitions_from() TransitionMatrix$target_state() TransitionMatrix$at_risk() TransitionMatrix$states_df() TransitionMatrix$trans_df() TransitionMatrix$plot() TransitionMatrix$print() TransitionMatrix$absorbing_states() TransitionMatrix$source_states() TransitionMatrix$clone()","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"Create graph","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"","code":"TransitionMatrix$new(matrix, states)"},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"matrix binary N x N matrix matrix[,j] 1 transition state j possible states character vector state names (length N)","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"method-num-states-","dir":"Reference","previous_headings":"","what":"Method num_states()","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"Get number states","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"","code":"TransitionMatrix$num_states()"},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"integer N","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"method-num-trans-","dir":"Reference","previous_headings":"","what":"Method num_trans()","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"Get number transitions","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"","code":"TransitionMatrix$num_trans()"},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"integer","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"method-num-trans-types-","dir":"Reference","previous_headings":"","what":"Method num_trans_types()","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"Get number different transition types.","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"","code":"TransitionMatrix$num_trans_types()"},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"method-as-matrix-","dir":"Reference","previous_headings":"","what":"Method as_matrix()","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"matrix","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"","code":"TransitionMatrix$as_matrix()"},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"returns-2","dir":"Reference","previous_headings":"","what":"Returns","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"N x N matrix named columns rows","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"method-as-transition-index-matrix-","dir":"Reference","previous_headings":"","what":"Method as_transition_index_matrix()","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"matrix indexing transitions","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"","code":"TransitionMatrix$as_transition_index_matrix()"},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"returns-3","dir":"Reference","previous_headings":"","what":"Returns","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"N x N matrix named columns rows","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"method-as-mstate-transmat-","dir":"Reference","previous_headings":"","what":"Method as_mstate_transmat()","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"Transition index matrix format used 'mstate'","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"","code":"TransitionMatrix$as_mstate_transmat()"},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"returns-4","dir":"Reference","previous_headings":"","what":"Returns","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"matrix","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"method-possible-transitions-from-","dir":"Reference","previous_headings":"","what":"Method possible_transitions_from()","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"Get indices possible transitions given state","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"","code":"TransitionMatrix$possible_transitions_from(state)"},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"state Index state","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"method-target-state-","dir":"Reference","previous_headings":"","what":"Method target_state()","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"Get target state transition","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"usage-8","dir":"Reference","previous_headings":"","what":"Usage","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"","code":"TransitionMatrix$target_state(trans_idx)"},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"trans_idx Index transition","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"method-at-risk-","dir":"Reference","previous_headings":"","what":"Method at_risk()","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"Get states risk given state","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"usage-9","dir":"Reference","previous_headings":"","what":"Usage","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"","code":"TransitionMatrix$at_risk(state)"},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"state index current state","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"returns-5","dir":"Reference","previous_headings":"","what":"Returns","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"indices states risk","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"method-states-df-","dir":"Reference","previous_headings":"","what":"Method states_df()","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"data frame states","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"usage-10","dir":"Reference","previous_headings":"","what":"Usage","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"","code":"TransitionMatrix$states_df()"},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"returns-6","dir":"Reference","previous_headings":"","what":"Returns","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"data.frame","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"method-trans-df-","dir":"Reference","previous_headings":"","what":"Method trans_df()","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"data frame transitions (\"legend\")","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"usage-11","dir":"Reference","previous_headings":"","what":"Usage","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"","code":"TransitionMatrix$trans_df()"},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"returns-7","dir":"Reference","previous_headings":"","what":"Returns","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"data.frame","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"method-plot-","dir":"Reference","previous_headings":"","what":"Method plot()","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"Visualize matrix graph","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"usage-12","dir":"Reference","previous_headings":"","what":"Usage","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"","code":"TransitionMatrix$plot(edge_labs = FALSE, ...)"},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"edge_labs Edge labels ... Arguments passed qgraph::qgraph","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"returns-8","dir":"Reference","previous_headings":"","what":"Returns","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"qgraph plot","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"method-print-","dir":"Reference","previous_headings":"","what":"Method print()","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"Print output","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"usage-13","dir":"Reference","previous_headings":"","what":"Usage","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"","code":"TransitionMatrix$print()"},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"returns-9","dir":"Reference","previous_headings":"","what":"Returns","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"nothing","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"method-absorbing-states-","dir":"Reference","previous_headings":"","what":"Method absorbing_states()","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"Get states transitioned ","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"usage-14","dir":"Reference","previous_headings":"","what":"Usage","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"","code":"TransitionMatrix$absorbing_states(names = TRUE)"},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"arguments-5","dir":"Reference","previous_headings":"","what":"Arguments","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"names Return names states? Otherwise returns indices.","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"method-source-states-","dir":"Reference","previous_headings":"","what":"Method source_states()","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"Get states transitioned ","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"usage-15","dir":"Reference","previous_headings":"","what":"Usage","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"","code":"TransitionMatrix$source_states(names = TRUE)"},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"arguments-6","dir":"Reference","previous_headings":"","what":"Arguments","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"names Return names states? Otherwise returns indices.","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"objects class cloneable method.","code":""},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"usage-16","dir":"Reference","previous_headings":"","what":"Usage","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"","code":"TransitionMatrix$clone(deep = FALSE)"},{"path":"https://generable.github.io/bmstate/reference/TransitionMatrix.html","id":"arguments-7","dir":"Reference","previous_headings":"","what":"Arguments","title":"Defines states and possible transitions ‚Äî TransitionMatrix","text":"deep Whether make deep clone.","code":""},{"path":"https://generable.github.io/bmstate/reference/as_any_event.html","id":null,"dir":"Reference","previous_headings":"","what":"PathData to time-to-event data format for any state other than null state ‚Äî as_any_event","title":"PathData to time-to-event data format for any state other than null state ‚Äî as_any_event","text":"PathData time--event data format state null state","code":""},{"path":"https://generable.github.io/bmstate/reference/as_any_event.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"PathData to time-to-event data format for any state other than null state ‚Äî as_any_event","text":"","code":"as_any_event(pd, null_state = \"Randomization\")"},{"path":"https://generable.github.io/bmstate/reference/as_any_event.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"PathData to time-to-event data format for any state other than null state ‚Äî as_any_event","text":"pd PathData object null_state Name base state","code":""},{"path":"https://generable.github.io/bmstate/reference/as_any_event.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"PathData to time-to-event data format for any state other than null state ‚Äî as_any_event","text":"PathData object","code":""},{"path":[]},{"path":"https://generable.github.io/bmstate/reference/as_single_event.html","id":null,"dir":"Reference","previous_headings":"","what":"PathData to time-to-event data format with a single event ‚Äî as_single_event","title":"PathData to time-to-event data format with a single event ‚Äî as_single_event","text":"PathData time--event data format single event","code":""},{"path":"https://generable.github.io/bmstate/reference/as_single_event.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"PathData to time-to-event data format with a single event ‚Äî as_single_event","text":"","code":"as_single_event(pd, event, null_state = \"Randomization\")"},{"path":"https://generable.github.io/bmstate/reference/as_single_event.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"PathData to time-to-event data format with a single event ‚Äî as_single_event","text":"pd PathData object event Name state corresponding event interest (character) null_state Name base state","code":""},{"path":"https://generable.github.io/bmstate/reference/as_single_event.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"PathData to time-to-event data format with a single event ‚Äî as_single_event","text":"PathData object","code":""},{"path":[]},{"path":"https://generable.github.io/bmstate/reference/as_survival.html","id":null,"dir":"Reference","previous_headings":"","what":"PathData to event-free survival format ‚Äî as_survival","title":"PathData to event-free survival format ‚Äî as_survival","text":"PathData event-free survival format","code":""},{"path":"https://generable.github.io/bmstate/reference/as_survival.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"PathData to event-free survival format ‚Äî as_survival","text":"","code":"as_survival(pd, event)"},{"path":"https://generable.github.io/bmstate/reference/as_survival.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"PathData to event-free survival format ‚Äî as_survival","text":"pd PathData object event Name state corresponding event interest (character)","code":""},{"path":"https://generable.github.io/bmstate/reference/as_survival.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"PathData to event-free survival format ‚Äî as_survival","text":"PathData object","code":""},{"path":[]},{"path":"https://generable.github.io/bmstate/reference/bmstate-package.html","id":null,"dir":"Reference","previous_headings":"","what":"The 'bmstate' package. ‚Äî bmstate-package","title":"The 'bmstate' package. ‚Äî bmstate-package","text":"Bayesian multistate modeling right-censored time--event data.","code":""},{"path":"https://generable.github.io/bmstate/reference/bmstate-package.html","id":"transition-matrix","dir":"Reference","previous_headings":"","what":"Transition matrix","title":"The 'bmstate' package. ‚Äî bmstate-package","text":"analysis package, need TransitionMatrix specifies states possible transitions . can created directly TransitionMatrix$new() using built-functions common multistate systems transmat_illnessdeath.","code":""},{"path":"https://generable.github.io/bmstate/reference/bmstate-package.html","id":"data-format","dir":"Reference","previous_headings":"","what":"Data format","title":"The 'bmstate' package. ‚Äî bmstate-package","text":"See function df_to_pathdata create PathData object data frame given TransitionMatrix.","code":""},{"path":"https://generable.github.io/bmstate/reference/bmstate-package.html","id":"creating-a-model","dir":"Reference","previous_headings":"","what":"Creating a model","title":"The 'bmstate' package. ‚Äî bmstate-package","text":"can create model using create_msm. model represented MultistateModel object, MultistateSystem, TransitionMatrix.","code":""},{"path":"https://generable.github.io/bmstate/reference/bmstate-package.html","id":"fitting-a-model","dir":"Reference","previous_headings":"","what":"Fitting a model","title":"The 'bmstate' package. ‚Äî bmstate-package","text":"can fit model 'Stan' using fit_stan.","code":""},{"path":"https://generable.github.io/bmstate/reference/bmstate-package.html","id":"prediction-with-a-fitted-model","dir":"Reference","previous_headings":"","what":"Prediction with a fitted model","title":"The 'bmstate' package. ‚Äî bmstate-package","text":"predicting state visit risks time period using state path  simulation, see functions generate_paths,  p_state_visit, p_state_visit_per_subject. analytically solving state occupancy probabilities time,   see p_state_occupancy.","code":""},{"path":"https://generable.github.io/bmstate/reference/bmstate-package.html","id":"vignettes","dir":"Reference","previous_headings":"","what":"Vignettes","title":"The 'bmstate' package. ‚Äî bmstate-package","text":"See vignettes information.","code":""},{"path":[]},{"path":"https://generable.github.io/bmstate/reference/bmstate-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"The 'bmstate' package. ‚Äî bmstate-package","text":"Juho Timonen Jacqueline Buros","code":""},{"path":"https://generable.github.io/bmstate/reference/c_index.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute concordance index ‚Äî c_index","title":"Compute concordance index ‚Äî c_index","text":"Compute concordance index","code":""},{"path":"https://generable.github.io/bmstate/reference/c_index.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute concordance index ‚Äî c_index","text":"","code":"c_index(df)"},{"path":"https://generable.github.io/bmstate/reference/c_index.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute concordance index ‚Äî c_index","text":"df data.frame surv pred_prob columns","code":""},{"path":"https://generable.github.io/bmstate/reference/create_msm.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a multistate model ‚Äî create_msm","title":"Create a multistate model ‚Äî create_msm","text":"Create multistate model","code":""},{"path":"https://generable.github.io/bmstate/reference/create_msm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a multistate model ‚Äî create_msm","text":"","code":"create_msm(tm, hazard_covs = NULL, pk_covs = NULL, categ_covs = NULL, ...)"},{"path":"https://generable.github.io/bmstate/reference/create_msm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a multistate model ‚Äî create_msm","text":"tm TransitionMatrix. See transmat create common transition matrices. hazard_covs Covariates affect hazard. character vector. name \"dose_amt\" special simulating data using model. pk_covs Covariates affect PK parameters. list elements ka CL, V2. NULL, PK model created. categ_covs Names covariates binary. effect simulating data. fitting model, covariates treated continuous, use binary encoding categories two. ... Arguments passed MultistateModel init","code":""},{"path":"https://generable.github.io/bmstate/reference/create_msm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a multistate model ‚Äî create_msm","text":"MultistateModel object.","code":""},{"path":"https://generable.github.io/bmstate/reference/create_scoring_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a data frame to evaluate state visit probability predictions ‚Äî create_scoring_df","title":"Create a data frame to evaluate state visit probability predictions ‚Äî create_scoring_df","text":"Create data frame evaluate state visit probability predictions","code":""},{"path":"https://generable.github.io/bmstate/reference/create_scoring_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a data frame to evaluate state visit probability predictions ‚Äî create_scoring_df","text":"","code":"create_scoring_df(paths_obs, paths_pred, state_name)"},{"path":"https://generable.github.io/bmstate/reference/create_scoring_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a data frame to evaluate state visit probability predictions ‚Äî create_scoring_df","text":"paths_obs PathData object observed paths. paths_pred PathData object predicted paths. state_name Name state interest.","code":""},{"path":"https://generable.github.io/bmstate/reference/create_scoring_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a data frame to evaluate state visit probability predictions ‚Äî create_scoring_df","text":"data.frame surv pred_prob columns","code":""},{"path":"https://generable.github.io/bmstate/reference/create_stan_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Creating Stan data list ‚Äî create_stan_data","title":"Creating Stan data list ‚Äî create_stan_data","text":"Creating Stan data list","code":""},{"path":"https://generable.github.io/bmstate/reference/create_stan_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Creating Stan data list ‚Äî create_stan_data","text":"","code":"create_stan_data(model, data)"},{"path":"https://generable.github.io/bmstate/reference/create_stan_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Creating Stan data list ‚Äî create_stan_data","text":"model MultistateModel object. data JointData PathData object.","code":""},{"path":"https://generable.github.io/bmstate/reference/create_stan_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Creating Stan data list ‚Äî create_stan_data","text":"list data Stan.","code":""},{"path":[]},{"path":"https://generable.github.io/bmstate/reference/create_stan_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Create the main 'Stan' model ‚Äî create_stan_model","title":"Create the main 'Stan' model ‚Äî create_stan_model","text":"Uses Stan code default_stan_filepath custom file set using options(bmstate_stan_file = ...).","code":""},{"path":"https://generable.github.io/bmstate/reference/create_stan_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create the main 'Stan' model ‚Äî create_stan_model","text":"","code":"create_stan_model(filepath = NULL, ...)"},{"path":"https://generable.github.io/bmstate/reference/create_stan_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create the main 'Stan' model ‚Äî create_stan_model","text":"filepath Deprecated. ... Arguments passed 'CmdStanR'","code":""},{"path":[]},{"path":"https://generable.github.io/bmstate/reference/default_stan_filepath.html","id":null,"dir":"Reference","previous_headings":"","what":"Get path to default Stan file ‚Äî default_stan_filepath","title":"Get path to default Stan file ‚Äî default_stan_filepath","text":"Get path default Stan file","code":""},{"path":"https://generable.github.io/bmstate/reference/default_stan_filepath.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get path to default Stan file ‚Äî default_stan_filepath","text":"","code":"default_stan_filepath()"},{"path":[]},{"path":"https://generable.github.io/bmstate/reference/df_to_pathdata.html","id":null,"dir":"Reference","previous_headings":"","what":"Create 'PathData' from a data frame of one observed path per subject ‚Äî df_to_pathdata","title":"Create 'PathData' from a data frame of one observed path per subject ‚Äî df_to_pathdata","text":"Create 'PathData' data frame one observed path per subject","code":""},{"path":"https://generable.github.io/bmstate/reference/df_to_pathdata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create 'PathData' from a data frame of one observed path per subject ‚Äî df_to_pathdata","text":"","code":"df_to_pathdata(df, tm, covs = NULL, validate = TRUE)"},{"path":"https://generable.github.io/bmstate/reference/df_to_pathdata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create 'PathData' from a data frame of one observed path per subject ‚Äî df_to_pathdata","text":"df Data frame. columns subject_id (character) time (numeric) state (integer, indexing tm) is_transition (logical) columns specified covs Rules: subject, least two rows, rows    contiguous time non-decreasing. is_transition value indicate whether row    corresponds transition. first row subject never transition. row transition, transition state    previous row current state valid transition    tm. row transition, state change    previous row subject. tm TransitionMatrix covs covariates (character vector) validate stricter data validation? Recommended use TRUE.","code":""},{"path":"https://generable.github.io/bmstate/reference/df_to_pathdata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create 'PathData' from a data frame of one observed path per subject ‚Äî df_to_pathdata","text":"PathData object","code":""},{"path":"https://generable.github.io/bmstate/reference/ensure_exposed_stan_functions.html","id":null,"dir":"Reference","previous_headings":"","what":"Expose 'Stan' functions if they are not yet exposed ‚Äî ensure_exposed_stan_functions","title":"Expose 'Stan' functions if they are not yet exposed ‚Äî ensure_exposed_stan_functions","text":"Expose 'Stan' functions yet exposed","code":""},{"path":"https://generable.github.io/bmstate/reference/ensure_exposed_stan_functions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Expose 'Stan' functions if they are not yet exposed ‚Äî ensure_exposed_stan_functions","text":"","code":"ensure_exposed_stan_functions(...)"},{"path":"https://generable.github.io/bmstate/reference/ensure_exposed_stan_functions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Expose 'Stan' functions if they are not yet exposed ‚Äî ensure_exposed_stan_functions","text":"... Passed create_stan_model","code":""},{"path":"https://generable.github.io/bmstate/reference/ensure_exposed_stan_functions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Expose 'Stan' functions if they are not yet exposed ‚Äî ensure_exposed_stan_functions","text":"logical telling whether already exposed","code":""},{"path":[]},{"path":"https://generable.github.io/bmstate/reference/example_sim_setup_illnessdeath.html","id":null,"dir":"Reference","previous_headings":"","what":"Example simulation setup ‚Äî example_sim_setup_illnessdeath","title":"Example simulation setup ‚Äî example_sim_setup_illnessdeath","text":"Example simulation setup","code":""},{"path":"https://generable.github.io/bmstate/reference/example_sim_setup_illnessdeath.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example simulation setup ‚Äî example_sim_setup_illnessdeath","text":"","code":"example_sim_setup_illnessdeath(beta_dose = -0.5, beta_age = 0.5)"},{"path":"https://generable.github.io/bmstate/reference/example_sim_setup_illnessdeath.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Example simulation setup ‚Äî example_sim_setup_illnessdeath","text":"beta_dose effect dose illness rate beta_age effect age death rate","code":""},{"path":"https://generable.github.io/bmstate/reference/example_sim_setup_illnessdeath.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Example simulation setup ‚Äî example_sim_setup_illnessdeath","text":"list containing model true betas","code":""},{"path":"https://generable.github.io/bmstate/reference/fit_stan.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit a model using 'Stan' ‚Äî fit_stan","title":"Fit a model using 'Stan' ‚Äî fit_stan","text":"NOTE: function side effect setting covariate normalizers, prior assumed mean baseline hazard, concentration upper bound (PK) based data.","code":""},{"path":"https://generable.github.io/bmstate/reference/fit_stan.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit a model using 'Stan' ‚Äî fit_stan","text":"","code":"fit_stan(   model,   data,   set_normalizers = TRUE,   set_prior_h0 = TRUE,   filepath = NULL,   return_stanfit = FALSE,   max_conc_factor = 100,   method = \"sample\",   ... )"},{"path":"https://generable.github.io/bmstate/reference/fit_stan.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit a model using 'Stan' ‚Äî fit_stan","text":"model MultistateModel object. data JointData PathData object. set_normalizers Set covariate normalization automatically? set_prior_h0 Set prior mean average baseline hazard levels based data? filepath Deprecated. return_stanfit Return also raw 'Stan' fit object? max_conc_factor Factor multiply observed max concentration get concentration upper bound. method Must one \"sample\" (default), \"pathfinder\" \"optimize\". ... Arguments passed sample, pathfinder optimize method 'CmdStanR' model.","code":""},{"path":"https://generable.github.io/bmstate/reference/fit_stan.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit a model using 'Stan' ‚Äî fit_stan","text":"MultistateModelFit object.","code":""},{"path":[]},{"path":"https://generable.github.io/bmstate/reference/generate_paths.html","id":null,"dir":"Reference","previous_headings":"","what":"Path generation for 'MultistateModelFit' ‚Äî generate_paths","title":"Path generation for 'MultistateModelFit' ‚Äî generate_paths","text":"Generates paths subject data, starting state subject given start time.","code":""},{"path":"https://generable.github.io/bmstate/reference/generate_paths.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Path generation for 'MultistateModelFit' ‚Äî generate_paths","text":"","code":"generate_paths(   fit,   oos = FALSE,   t_start = 0,   t_max = NULL,   n_rep = 10,   data = NULL )"},{"path":"https://generable.github.io/bmstate/reference/generate_paths.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Path generation for 'MultistateModelFit' ‚Äî generate_paths","text":"fit MultistateModelFit object oos --sample mode? FALSE, possible subject-specific fitted parameters used. TRUE, acting subjects new. t_start Start time. single value vector length equal number subjects. t_max Max time. NULL, max time model used. n_rep Number repeats per draw. data JointData object. NULL, data used fit model used.","code":""},{"path":"https://generable.github.io/bmstate/reference/generate_paths.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Path generation for 'MultistateModelFit' ‚Äî generate_paths","text":"PathData object.","code":""},{"path":"https://generable.github.io/bmstate/reference/msmfit_exposure.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute exposure ‚Äî msmfit_exposure","title":"Compute exposure ‚Äî msmfit_exposure","text":"Compute exposure","code":""},{"path":"https://generable.github.io/bmstate/reference/msmfit_exposure.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute exposure ‚Äî msmfit_exposure","text":"","code":"msmfit_exposure(fit, oos = FALSE, data = NULL)"},{"path":"https://generable.github.io/bmstate/reference/msmfit_exposure.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute exposure ‚Äî msmfit_exposure","text":"fit MultistateModelFit object oos --sample mode? FALSE, possible subject-specific fitted parameters used. TRUE, acting subjects new. data JointData object. NULL, data used fit model used.","code":""},{"path":"https://generable.github.io/bmstate/reference/msmfit_inst_hazard_param_draws.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract and reshape draws of instant hazard related parameters ‚Äî msmfit_inst_hazard_param_draws","title":"Extract and reshape draws of instant hazard related parameters ‚Äî msmfit_inst_hazard_param_draws","text":"Extract reshape draws instant hazard related parameters","code":""},{"path":"https://generable.github.io/bmstate/reference/msmfit_inst_hazard_param_draws.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract and reshape draws of instant hazard related parameters ‚Äî msmfit_inst_hazard_param_draws","text":"","code":"msmfit_inst_hazard_param_draws(fit, oos = FALSE, data = NULL)"},{"path":"https://generable.github.io/bmstate/reference/msmfit_inst_hazard_param_draws.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract and reshape draws of instant hazard related parameters ‚Äî msmfit_inst_hazard_param_draws","text":"fit MultistateModelFit object oos --sample mode? FALSE, possible subject-specific fitted parameters used. TRUE, acting subjects new. data JointData object. NULL, data used fit model used.","code":""},{"path":"https://generable.github.io/bmstate/reference/msmfit_inst_hazard_param_draws.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract and reshape draws of instant hazard related parameters ‚Äî msmfit_inst_hazard_param_draws","text":"list elements log_m, log_w0, w, array first dimension number subjects times number draws","code":""},{"path":"https://generable.github.io/bmstate/reference/msmfit_log_hazard_multipliers.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute log_hazard multipliers ‚Äî msmfit_log_hazard_multipliers","title":"Compute log_hazard multipliers ‚Äî msmfit_log_hazard_multipliers","text":"Compute log_hazard multipliers","code":""},{"path":"https://generable.github.io/bmstate/reference/msmfit_log_hazard_multipliers.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute log_hazard multipliers ‚Äî msmfit_log_hazard_multipliers","text":"","code":"msmfit_log_hazard_multipliers(fit, oos = FALSE, data = NULL)"},{"path":"https://generable.github.io/bmstate/reference/msmfit_log_hazard_multipliers.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute log_hazard multipliers ‚Äî msmfit_log_hazard_multipliers","text":"fit MultistateModelFit object oos --sample mode? FALSE, possible subject-specific fitted parameters used. TRUE, acting subjects new. data JointData object. NULL, data used fit model used.","code":""},{"path":"https://generable.github.io/bmstate/reference/msmfit_log_hazard_multipliers.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute log_hazard multipliers ‚Äî msmfit_log_hazard_multipliers","text":"list length n_draws element matrix shape n_subject x n_transitions","code":""},{"path":"https://generable.github.io/bmstate/reference/msmfit_pk_params.html","id":null,"dir":"Reference","previous_headings":"","what":"Evaluate PK parameters ‚Äî msmfit_pk_params","title":"Evaluate PK parameters ‚Äî msmfit_pk_params","text":"Evaluate PK parameters","code":""},{"path":"https://generable.github.io/bmstate/reference/msmfit_pk_params.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Evaluate PK parameters ‚Äî msmfit_pk_params","text":"","code":"msmfit_pk_params(fit, oos = FALSE, data = NULL)"},{"path":"https://generable.github.io/bmstate/reference/msmfit_pk_params.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Evaluate PK parameters ‚Äî msmfit_pk_params","text":"fit MultistateModelFit object oos --sample mode? FALSE, possible subject-specific fitted parameters used. TRUE, acting subjects new. data JointData object. NULL, data used fit model used.","code":""},{"path":"https://generable.github.io/bmstate/reference/msmfit_pk_params.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Evaluate PK parameters ‚Äî msmfit_pk_params","text":"list length equal number draws.","code":""},{"path":"https://generable.github.io/bmstate/reference/p_state_occupancy.html","id":null,"dir":"Reference","previous_headings":"","what":"Solve state occupancy probabilities for each subject and draw in 'MultistateModelFit' ‚Äî p_state_occupancy","title":"Solve state occupancy probabilities for each subject and draw in 'MultistateModelFit' ‚Äî p_state_occupancy","text":"Solve state occupancy probabilities subject draw 'MultistateModelFit'","code":""},{"path":"https://generable.github.io/bmstate/reference/p_state_occupancy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Solve state occupancy probabilities for each subject and draw in 'MultistateModelFit' ‚Äî p_state_occupancy","text":"","code":"p_state_occupancy(   fit,   oos = FALSE,   t_start = 0,   t_out = NULL,   data = NULL,   ... )"},{"path":"https://generable.github.io/bmstate/reference/p_state_occupancy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Solve state occupancy probabilities for each subject and draw in 'MultistateModelFit' ‚Äî p_state_occupancy","text":"fit MultistateModelFit object oos --sample mode? FALSE, possible subject-specific fitted parameters used. TRUE, acting subjects new. t_start Start time. results transition probabilities state, evaluated time point t_out, given subject state data t_start. t_out End times (vector) data JointData object. NULL, data used fit model used. ... Arguments passed deSolve::ode().","code":""},{"path":"https://generable.github.io/bmstate/reference/p_state_occupancy.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Solve state occupancy probabilities for each subject and draw in 'MultistateModelFit' ‚Äî p_state_occupancy","text":"data frame columns subject_id (character) time (numeric) state (character) prob state occupancy probability given subject given time Note prob rvar parameter draws.","code":""},{"path":"https://generable.github.io/bmstate/reference/p_state_visit.html","id":null,"dir":"Reference","previous_headings":"","what":"For each non-source state, compute probability of visiting it at least once before given time ‚Äî p_state_visit","title":"For each non-source state, compute probability of visiting it at least once before given time ‚Äî p_state_visit","text":"non-source state, compute probability visiting least given time","code":""},{"path":"https://generable.github.io/bmstate/reference/p_state_visit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"For each non-source state, compute probability of visiting it at least once before given time ‚Äî p_state_visit","text":"","code":"p_state_visit(pd, t = NULL, by = NULL)"},{"path":"https://generable.github.io/bmstate/reference/p_state_visit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"For each non-source state, compute probability of visiting it at least once before given time ‚Äî p_state_visit","text":"pd PathData object. t given time. NULL, set max(pd$get_path_df()$time). Factor summarize .","code":""},{"path":"https://generable.github.io/bmstate/reference/p_state_visit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"For each non-source state, compute probability of visiting it at least once before given time ‚Äî p_state_visit","text":"data frame","code":""},{"path":[]},{"path":"https://generable.github.io/bmstate/reference/p_state_visit_per_subject.html","id":null,"dir":"Reference","previous_headings":"","what":"For each subject, compute probability of visiting a given state at least once before given time ‚Äî p_state_visit_per_subject","title":"For each subject, compute probability of visiting a given state at least once before given time ‚Äî p_state_visit_per_subject","text":"Convenient wrapper p_state_visit.","code":""},{"path":"https://generable.github.io/bmstate/reference/p_state_visit_per_subject.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"For each subject, compute probability of visiting a given state at least once before given time ‚Äî p_state_visit_per_subject","text":"","code":"p_state_visit_per_subject(pd, state_name, t = NULL)"},{"path":"https://generable.github.io/bmstate/reference/p_state_visit_per_subject.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"For each subject, compute probability of visiting a given state at least once before given time ‚Äî p_state_visit_per_subject","text":"pd PathData object. state_name Name state (character). t given time. NULL, set max(pd$get_path_df()$time).","code":""},{"path":"https://generable.github.io/bmstate/reference/p_state_visit_per_subject.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"For each subject, compute probability of visiting a given state at least once before given time ‚Äî p_state_visit_per_subject","text":"data frame","code":""},{"path":[]},{"path":"https://generable.github.io/bmstate/reference/pk_2cpt_pss.html","id":null,"dir":"Reference","previous_headings":"","what":"Partially steady-state PK model ‚Äî pk_2cpt_pss","title":"Partially steady-state PK model ‚Äî pk_2cpt_pss","text":"subject","code":""},{"path":"https://generable.github.io/bmstate/reference/pk_2cpt_pss.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Partially steady-state PK model ‚Äî pk_2cpt_pss","text":"","code":"pk_2cpt_pss(t, dose_ss, times, doses, theta, tau, MAX_CONC)"},{"path":"https://generable.github.io/bmstate/reference/pk_2cpt_pss.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Partially steady-state PK model ‚Äî pk_2cpt_pss","text":"t vector output time points dose_ss dose amount SS (subject) times time points, first end stedy-state assumption doses doses taken t_last_ss theta PK params subject tau Dosing interval (subjects). MAX_CONC Concentration upper bound.","code":""},{"path":"https://generable.github.io/bmstate/reference/pk_2cpt_pss.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Partially steady-state PK model ‚Äî pk_2cpt_pss","text":"subject, concentration central compartment times t","code":""},{"path":"https://generable.github.io/bmstate/reference/plot_stan_data_integral.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualize numerical integration of hazard ‚Äî plot_stan_data_integral","title":"Visualize numerical integration of hazard ‚Äî plot_stan_data_integral","text":"Visualize numerical integration hazard","code":""},{"path":"https://generable.github.io/bmstate/reference/plot_stan_data_integral.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualize numerical integration of hazard ‚Äî plot_stan_data_integral","text":"","code":"plot_stan_data_integral(model, stan_data, iidx, h0 = 0.001, w = NULL)"},{"path":"https://generable.github.io/bmstate/reference/plot_stan_data_integral.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualize numerical integration of hazard ‚Äî plot_stan_data_integral","text":"model MultistateModel. stan_data list data Stan. Created using create_stan_data. iidx Interval index h0 Hazard function average value w Hazard function spline weights. Randomly generated given.","code":""},{"path":[]},{"path":"https://generable.github.io/bmstate/reference/plot_stan_data_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualize parts of the 'Stan' data ‚Äî plot_stan_data_matrix","title":"Visualize parts of the 'Stan' data ‚Äî plot_stan_data_matrix","text":"Visualize parts 'Stan' data","code":""},{"path":"https://generable.github.io/bmstate/reference/plot_stan_data_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualize parts of the 'Stan' data ‚Äî plot_stan_data_matrix","text":"","code":"plot_stan_data_matrix(model, stan_data, name, subject_idx)"},{"path":"https://generable.github.io/bmstate/reference/plot_stan_data_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualize parts of the 'Stan' data ‚Äî plot_stan_data_matrix","text":"model MultistateModel. stan_data list data Stan. Created using create_stan_data. name Name Stan data field plot. Currently must one \"transition\", \"at_risk\". subject_idx Index subject whose data rows plot.","code":""},{"path":[]},{"path":"https://generable.github.io/bmstate/reference/plot_state_occupancy.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot mean state occupancy probabilities over time for each subject ‚Äî plot_state_occupancy","title":"Plot mean state occupancy probabilities over time for each subject ‚Äî plot_state_occupancy","text":"Plot mean state occupancy probabilities time subject","code":""},{"path":"https://generable.github.io/bmstate/reference/plot_state_occupancy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot mean state occupancy probabilities over time for each subject ‚Äî plot_state_occupancy","text":"","code":"plot_state_occupancy(df)"},{"path":"https://generable.github.io/bmstate/reference/plot_state_occupancy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot mean state occupancy probabilities over time for each subject ‚Äî plot_state_occupancy","text":"df Data frame returned p_state_occupancy","code":""},{"path":"https://generable.github.io/bmstate/reference/potential_covariates.html","id":null,"dir":"Reference","previous_headings":"","what":"Look for potential covariates that affect transitions ‚Äî potential_covariates","title":"Look for potential covariates that affect transitions ‚Äî potential_covariates","text":"Look potential covariates affect transitions","code":""},{"path":"https://generable.github.io/bmstate/reference/potential_covariates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Look for potential covariates that affect transitions ‚Äî potential_covariates","text":"","code":"potential_covariates(pd, possible = NULL, ...)"},{"path":"https://generable.github.io/bmstate/reference/potential_covariates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Look for potential covariates that affect transitions ‚Äî potential_covariates","text":"pd PathData object. possible Possible covariates look (character vector). NULL (default) covariates object tested. ... Arguments passed fit_coxph().","code":""},{"path":"https://generable.github.io/bmstate/reference/potential_covariates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Look for potential covariates that affect transitions ‚Äî potential_covariates","text":"data.frame columns pval, target_state, covariate.","code":""},{"path":"https://generable.github.io/bmstate/reference/simulate_dosing.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate dosing data ‚Äî simulate_dosing","title":"Simulate dosing data ‚Äî simulate_dosing","text":"Simulate dosing data","code":""},{"path":"https://generable.github.io/bmstate/reference/simulate_dosing.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate dosing data ‚Äî simulate_dosing","text":"","code":"simulate_dosing(df_subjects, tau = 24, p_miss = 0.2, t_jitter = 4)"},{"path":"https://generable.github.io/bmstate/reference/simulate_dosing.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate dosing data ‚Äî simulate_dosing","text":"df_subjects Data frame one row subject. Must columns subject_id, num_ss_doses, num_doses, dose. tau Supposed dosing interval (subject). p_miss Probability missing dose. t_jitter Randomness added dose times.","code":""},{"path":"https://generable.github.io/bmstate/reference/simulate_dosing.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate dosing data ‚Äî simulate_dosing","text":"DosingData object","code":""},{"path":"https://generable.github.io/bmstate/reference/simulate_example_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate example data ‚Äî simulate_example_data","title":"Simulate example data ‚Äî simulate_example_data","text":"Simulate example data","code":""},{"path":"https://generable.github.io/bmstate/reference/simulate_example_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate example data ‚Äî simulate_example_data","text":"","code":"simulate_example_data(   N = 10,   beta_haz = NULL,   beta_pk = NULL,   w0 = 0.001,   tm = NULL,   ... )"},{"path":"https://generable.github.io/bmstate/reference/simulate_example_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate example data ‚Äî simulate_example_data","text":"N number subjects beta_haz see documentation MultistateModel beta_pk see documentation MultistateModel w0 see documentation MultistateModel tm TransitionMatrix ... arguments passed create_msm","code":""},{"path":"https://generable.github.io/bmstate/reference/solve_time_evolution.html","id":null,"dir":"Reference","previous_headings":"","what":"Solve the Kolmogorov forward equation of a Markovian multistate system ‚Äî solve_time_evolution","title":"Solve the Kolmogorov forward equation of a Markovian multistate system ‚Äî solve_time_evolution","text":"Solve Kolmogorov forward equation Markovian multistate system","code":""},{"path":"https://generable.github.io/bmstate/reference/solve_time_evolution.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Solve the Kolmogorov forward equation of a Markovian multistate system ‚Äî solve_time_evolution","text":"","code":"solve_time_evolution(system, t, log_w0, w = NULL, log_m = NULL, ...)"},{"path":"https://generable.github.io/bmstate/reference/solve_time_evolution.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Solve the Kolmogorov forward equation of a Markovian multistate system ‚Äî solve_time_evolution","text":"system MultistateSystem t time grid log_w0 vector length n_trans w array shape n_trans x n_weights log_m vector length n_trans ... Arguments passed deSolve::ode().","code":""},{"path":"https://generable.github.io/bmstate/reference/solve_time_evolution.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Solve the Kolmogorov forward equation of a Markovian multistate system ‚Äî solve_time_evolution","text":"Value given deSolve::ode().","code":""},{"path":"https://generable.github.io/bmstate/reference/solve_trans_prob_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Solve the transition probability matrix for each given output time ‚Äî solve_trans_prob_matrix","title":"Solve the transition probability matrix for each given output time ‚Äî solve_trans_prob_matrix","text":"Solve transition probability matrix given output time","code":""},{"path":"https://generable.github.io/bmstate/reference/solve_trans_prob_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Solve the transition probability matrix for each given output time ‚Äî solve_trans_prob_matrix","text":"","code":"solve_trans_prob_matrix(   system,   t_out,   log_w0,   w = NULL,   log_m = NULL,   t_start = 0,   ... )"},{"path":"https://generable.github.io/bmstate/reference/solve_trans_prob_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Solve the transition probability matrix for each given output time ‚Äî solve_trans_prob_matrix","text":"system MultistateSystem t_out End times (vector) log_w0 vector length n_trans w array shape n_trans x n_weights log_m vector length n_trans t_start Initial time ... Arguments passed deSolve::ode().","code":""},{"path":"https://generable.github.io/bmstate/reference/solve_trans_prob_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Solve the transition probability matrix for each given output time ‚Äî solve_trans_prob_matrix","text":"array P P[k,,j] probability system state j kth time point t_out given state time t_start.","code":""},{"path":"https://generable.github.io/bmstate/reference/split_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Train-test split ‚Äî split_data","title":"Train-test split ‚Äî split_data","text":"Train-test split","code":""},{"path":"https://generable.github.io/bmstate/reference/split_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Train-test split ‚Äî split_data","text":"","code":"split_data(dat, p_test = 0.25)"},{"path":"https://generable.github.io/bmstate/reference/split_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Train-test split ‚Äî split_data","text":"dat JointData object p_test Proportion test subjects","code":""},{"path":"https://generable.github.io/bmstate/reference/split_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Train-test split ‚Äî split_data","text":"list test train JointData objects","code":""},{"path":"https://generable.github.io/bmstate/reference/transmat.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a common transition matrix ‚Äî transmat","title":"Create a common transition matrix ‚Äî transmat","text":"full: possible transitions non-terminal non-source states added, well transition terminal states states. survival: Basic survival model single transition comprisk: Competing risks transition matrix illnessdeath: Illness-Death model progression: Disease progression model diamond: Two intermediate states leading terminal state","code":""},{"path":"https://generable.github.io/bmstate/reference/transmat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a common transition matrix ‚Äî transmat","text":"","code":"transmat_full(   state_names = LETTERS[1:4],   sources = 1,   terminal = length(state_names),   self_loops = TRUE )  transmat_comprisk(state_names = LETTERS[1:4])  transmat_survival(state_names = c(\"Alive\", \"Dead\"))  transmat_illnessdeath(state_names = c(\"Healthy\", \"Diseased\", \"Dead\"))  transmat_progression(state_names = c(\"Healthy\", \"Mild\", \"Severe\", \"Dead\"))  transmat_diamond(state_names = LETTERS[1:4])"},{"path":"https://generable.github.io/bmstate/reference/transmat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a common transition matrix ‚Äî transmat","text":"state_names Names states. length character vector defines number states. sources Indices source states. terminal Indices terminal states self_loops Add self-loops non-terminal non-source states?","code":""},{"path":"https://generable.github.io/bmstate/reference/transmat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a common transition matrix ‚Äî transmat","text":"TransitionMatrix","code":""}]
